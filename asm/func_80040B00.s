.include "macros.inc"

.section .text, "ax" # 80040B00


.global func_80040B00
func_80040B00:
/* 80040B00 0003DA40  94 21 FF 90 */	stwu r1, -0x70(r1)
/* 80040B04 0003DA44  7C 08 02 A6 */	mflr r0
/* 80040B08 0003DA48  90 01 00 74 */	stw r0, 0x74(r1)
/* 80040B0C 0003DA4C  DB E1 00 60 */	stfd f31, 0x60(r1)
/* 80040B10 0003DA50  F3 E1 00 68 */	psq_st f31, 104(r1), 0, qr0
/* 80040B14 0003DA54  DB C1 00 50 */	stfd f30, 0x50(r1)
/* 80040B18 0003DA58  F3 C1 00 58 */	psq_st f30, 88(r1), 0, qr0
/* 80040B1C 0003DA5C  39 61 00 50 */	addi r11, r1, 0x50
/* 80040B20 0003DA60  48 32 16 99 */	bl func_803621B8
/* 80040B24 0003DA64  7C 7F 1B 78 */	mr r31, r3
/* 80040B28 0003DA68  81 83 00 00 */	lwz r12, 0(r3)
/* 80040B2C 0003DA6C  81 8C 00 7C */	lwz r12, 0x7c(r12)
/* 80040B30 0003DA70  7D 89 03 A6 */	mtctr r12
/* 80040B34 0003DA74  4E 80 04 21 */	bctrl 
/* 80040B38 0003DA78  7C 74 1B 78 */	mr r20, r3
/* 80040B3C 0003DA7C  48 31 AA 51 */	bl func_8035B58C
/* 80040B40 0003DA80  38 60 00 09 */	li r3, 9
/* 80040B44 0003DA84  38 80 00 01 */	li r4, 1
/* 80040B48 0003DA88  48 31 A3 71 */	bl func_8035AEB8
/* 80040B4C 0003DA8C  38 60 00 0D */	li r3, 0xd
/* 80040B50 0003DA90  38 80 00 02 */	li r4, 2
/* 80040B54 0003DA94  48 31 A3 65 */	bl func_8035AEB8
/* 80040B58 0003DA98  38 60 00 00 */	li r3, 0
/* 80040B5C 0003DA9C  38 80 00 09 */	li r4, 9
/* 80040B60 0003DAA0  38 A0 00 00 */	li r5, 0
/* 80040B64 0003DAA4  38 C0 00 04 */	li r6, 4
/* 80040B68 0003DAA8  38 E0 00 00 */	li r7, 0
/* 80040B6C 0003DAAC  48 31 AA 59 */	bl func_8035B5C4
/* 80040B70 0003DAB0  38 60 00 00 */	li r3, 0
/* 80040B74 0003DAB4  38 80 00 0D */	li r4, 0xd
/* 80040B78 0003DAB8  38 A0 00 01 */	li r5, 1
/* 80040B7C 0003DABC  38 C0 00 00 */	li r6, 0
/* 80040B80 0003DAC0  38 E0 00 00 */	li r7, 0
/* 80040B84 0003DAC4  48 31 AA 41 */	bl func_8035B5C4
/* 80040B88 0003DAC8  38 60 00 0D */	li r3, 0xd
/* 80040B8C 0003DACC  38 82 84 9C */	addi r4, r2, lbl_80451E9C-_SDA2_BASE_
/* 80040B90 0003DAD0  38 A0 00 02 */	li r5, 2
/* 80040B94 0003DAD4  48 31 AF 95 */	bl func_8035BB28
/* 80040B98 0003DAD8  7F E3 FB 78 */	mr r3, r31
/* 80040B9C 0003DADC  4B FF C3 A5 */	bl func_8003CF40
/* 80040BA0 0003DAE0  3A E0 00 00 */	li r23, 0
/* 80040BA4 0003DAE4  3B C0 00 00 */	li r30, 0
/* 80040BA8 0003DAE8  3B 42 84 A4 */	addi r26, r2, lbl_80451EA4-_SDA2_BASE_
/* 80040BAC 0003DAEC  3B 22 84 7C */	addi r25, r2, lbl_80451E7C-_SDA2_BASE_
/* 80040BB0 0003DAF0  56 98 06 3E */	clrlwi r24, r20, 0x18
/* 80040BB4 0003DAF4  3C 60 80 38 */	lis r3, lbl_80379C88@ha
/* 80040BB8 0003DAF8  3B 63 9C 88 */	addi r27, r3, lbl_80379C88@l
.global lbl_80040BBC
lbl_80040BBC:
/* 80040BBC 0003DAFC  7F BB F2 14 */	add r29, r27, r30
/* 80040BC0 0003DB00  88 9D 00 00 */	lbz r4, 0(r29)
/* 80040BC4 0003DB04  7C 95 23 78 */	mr r21, r4
/* 80040BC8 0003DB08  7F E3 FB 78 */	mr r3, r31
/* 80040BCC 0003DB0C  81 9F 00 00 */	lwz r12, 0(r31)
/* 80040BD0 0003DB10  81 8C 00 AC */	lwz r12, 0xac(r12)
/* 80040BD4 0003DB14  7D 89 03 A6 */	mtctr r12
/* 80040BD8 0003DB18  4E 80 04 21 */	bctrl 
/* 80040BDC 0003DB1C  7C 76 1B 78 */	mr r22, r3
/* 80040BE0 0003DB20  7F E3 FB 78 */	mr r3, r31
/* 80040BE4 0003DB24  7E A4 AB 78 */	mr r4, r21
/* 80040BE8 0003DB28  81 9F 00 00 */	lwz r12, 0(r31)
/* 80040BEC 0003DB2C  81 8C 00 74 */	lwz r12, 0x74(r12)
/* 80040BF0 0003DB30  7D 89 03 A6 */	mtctr r12
/* 80040BF4 0003DB34  4E 80 04 21 */	bctrl 
/* 80040BF8 0003DB38  7C 7C 1B 79 */	or. r28, r3, r3
/* 80040BFC 0003DB3C  41 82 02 48 */	beq lbl_80040E44
/* 80040C00 0003DB40  7F E3 FB 78 */	mr r3, r31
/* 80040C04 0003DB44  7E A4 AB 78 */	mr r4, r21
/* 80040C08 0003DB48  81 9F 00 00 */	lwz r12, 0(r31)
/* 80040C0C 0003DB4C  81 8C 00 A4 */	lwz r12, 0xa4(r12)
/* 80040C10 0003DB50  7D 89 03 A6 */	mtctr r12
/* 80040C14 0003DB54  4E 80 04 21 */	bctrl 
/* 80040C18 0003DB58  C0 1F 00 18 */	lfs f0, 0x18(r31)
/* 80040C1C 0003DB5C  EF C0 00 72 */	fmuls f30, f0, f1
/* 80040C20 0003DB60  48 31 DA 45 */	bl func_8035E664
/* 80040C24 0003DB64  80 1D 00 04 */	lwz r0, 4(r29)
/* 80040C28 0003DB68  54 00 10 3A */	slwi r0, r0, 2
/* 80040C2C 0003DB6C  3C 60 80 42 */	lis r3, lbl_80424684@ha
/* 80040C30 0003DB70  38 63 46 84 */	addi r3, r3, lbl_80424684@l
/* 80040C34 0003DB74  7C 63 00 2E */	lwzx r3, r3, r0
/* 80040C38 0003DB78  38 80 00 00 */	li r4, 0
/* 80040C3C 0003DB7C  48 31 D7 D9 */	bl func_8035E414
/* 80040C40 0003DB80  80 7D 00 08 */	lwz r3, 8(r29)
/* 80040C44 0003DB84  88 03 00 00 */	lbz r0, 0(r3)
/* 80040C48 0003DB88  98 01 00 18 */	stb r0, 0x18(r1)
/* 80040C4C 0003DB8C  88 03 00 01 */	lbz r0, 1(r3)
/* 80040C50 0003DB90  98 01 00 19 */	stb r0, 0x19(r1)
/* 80040C54 0003DB94  88 03 00 02 */	lbz r0, 2(r3)
/* 80040C58 0003DB98  98 01 00 1A */	stb r0, 0x1a(r1)
/* 80040C5C 0003DB9C  88 03 00 03 */	lbz r0, 3(r3)
/* 80040C60 0003DBA0  98 01 00 1B */	stb r0, 0x1b(r1)
/* 80040C64 0003DBA4  80 01 00 18 */	lwz r0, 0x18(r1)
/* 80040C68 0003DBA8  90 01 00 14 */	stw r0, 0x14(r1)
/* 80040C6C 0003DBAC  38 60 00 02 */	li r3, 2
/* 80040C70 0003DBB0  38 81 00 14 */	addi r4, r1, 0x14
/* 80040C74 0003DBB4  48 31 E7 09 */	bl func_8035F37C
/* 80040C78 0003DBB8  88 61 00 18 */	lbz r3, 0x18(r1)
/* 80040C7C 0003DBBC  38 03 00 04 */	addi r0, r3, 4
/* 80040C80 0003DBC0  98 01 00 18 */	stb r0, 0x18(r1)
/* 80040C84 0003DBC4  80 01 00 18 */	lwz r0, 0x18(r1)
/* 80040C88 0003DBC8  90 01 00 10 */	stw r0, 0x10(r1)
/* 80040C8C 0003DBCC  38 60 00 03 */	li r3, 3
/* 80040C90 0003DBD0  38 81 00 10 */	addi r4, r1, 0x10
/* 80040C94 0003DBD4  48 31 E6 E9 */	bl func_8035F37C
/* 80040C98 0003DBD8  3A 80 00 00 */	li r20, 0
/* 80040C9C 0003DBDC  56 BD 06 3E */	clrlwi r29, r21, 0x18
/* 80040CA0 0003DBE0  C3 E2 84 A8 */	lfs f31, lbl_80451EA8-_SDA2_BASE_(r2)
/* 80040CA4 0003DBE4  48 00 01 90 */	b lbl_80040E34
.global lbl_80040CA8
lbl_80040CA8:
/* 80040CA8 0003DBE8  7F E3 FB 78 */	mr r3, r31
/* 80040CAC 0003DBEC  7E C4 B3 78 */	mr r4, r22
/* 80040CB0 0003DBF0  81 9F 00 00 */	lwz r12, 0(r31)
/* 80040CB4 0003DBF4  81 8C 00 A8 */	lwz r12, 0xa8(r12)
/* 80040CB8 0003DBF8  7D 89 03 A6 */	mtctr r12
/* 80040CBC 0003DBFC  4E 80 04 21 */	bctrl 
/* 80040CC0 0003DC00  7C 75 1B 78 */	mr r21, r3
/* 80040CC4 0003DC04  28 1D 00 00 */	cmplwi r29, 0
/* 80040CC8 0003DC08  40 82 00 90 */	bne lbl_80040D58
/* 80040CCC 0003DC0C  80 7F 00 2C */	lwz r3, 0x2c(r31)
/* 80040CD0 0003DC10  88 16 00 01 */	lbz r0, 1(r22)
/* 80040CD4 0003DC14  7C 00 07 74 */	extsb r0, r0
/* 80040CD8 0003DC18  7C 03 00 00 */	cmpw r3, r0
/* 80040CDC 0003DC1C  41 82 00 28 */	beq lbl_80040D04
/* 80040CE0 0003DC20  88 02 84 A4 */	lbz r0, lbl_80451EA4-_SDA2_BASE_(r2)
/* 80040CE4 0003DC24  98 01 00 18 */	stb r0, 0x18(r1)
/* 80040CE8 0003DC28  88 1A 00 01 */	lbz r0, 1(r26)
/* 80040CEC 0003DC2C  98 01 00 19 */	stb r0, 0x19(r1)
/* 80040CF0 0003DC30  88 1A 00 02 */	lbz r0, 2(r26)
/* 80040CF4 0003DC34  98 01 00 1A */	stb r0, 0x1a(r1)
/* 80040CF8 0003DC38  88 1A 00 03 */	lbz r0, 3(r26)
/* 80040CFC 0003DC3C  98 01 00 1B */	stb r0, 0x1b(r1)
/* 80040D00 0003DC40  48 00 00 24 */	b lbl_80040D24
.global lbl_80040D04
lbl_80040D04:
/* 80040D04 0003DC44  88 02 84 7C */	lbz r0, lbl_80451E7C-_SDA2_BASE_(r2)
/* 80040D08 0003DC48  98 01 00 18 */	stb r0, 0x18(r1)
/* 80040D0C 0003DC4C  88 19 00 01 */	lbz r0, 1(r25)
/* 80040D10 0003DC50  98 01 00 19 */	stb r0, 0x19(r1)
/* 80040D14 0003DC54  88 19 00 02 */	lbz r0, 2(r25)
/* 80040D18 0003DC58  98 01 00 1A */	stb r0, 0x1a(r1)
/* 80040D1C 0003DC5C  88 19 00 03 */	lbz r0, 3(r25)
/* 80040D20 0003DC60  98 01 00 1B */	stb r0, 0x1b(r1)
.global lbl_80040D24
lbl_80040D24:
/* 80040D24 0003DC64  80 01 00 18 */	lwz r0, 0x18(r1)
/* 80040D28 0003DC68  90 01 00 0C */	stw r0, 0xc(r1)
/* 80040D2C 0003DC6C  38 60 00 02 */	li r3, 2
/* 80040D30 0003DC70  38 81 00 0C */	addi r4, r1, 0xc
/* 80040D34 0003DC74  48 31 E6 49 */	bl func_8035F37C
/* 80040D38 0003DC78  88 61 00 18 */	lbz r3, 0x18(r1)
/* 80040D3C 0003DC7C  38 03 00 04 */	addi r0, r3, 4
/* 80040D40 0003DC80  98 01 00 18 */	stb r0, 0x18(r1)
/* 80040D44 0003DC84  80 01 00 18 */	lwz r0, 0x18(r1)
/* 80040D48 0003DC88  90 01 00 08 */	stw r0, 8(r1)
/* 80040D4C 0003DC8C  38 60 00 03 */	li r3, 3
/* 80040D50 0003DC90  38 81 00 08 */	addi r4, r1, 8
/* 80040D54 0003DC94  48 31 E6 29 */	bl func_8035F37C
.global lbl_80040D58
lbl_80040D58:
/* 80040D58 0003DC98  38 00 00 00 */	li r0, 0
/* 80040D5C 0003DC9C  C0 75 00 00 */	lfs f3, 0(r21)
/* 80040D60 0003DCA0  C0 5F 00 10 */	lfs f2, 0x10(r31)
/* 80040D64 0003DCA4  C0 1F 00 08 */	lfs f0, 8(r31)
/* 80040D68 0003DCA8  EC 3F 00 32 */	fmuls f1, f31, f0
/* 80040D6C 0003DCAC  EC 02 08 28 */	fsubs f0, f2, f1
/* 80040D70 0003DCB0  FC 03 00 40 */	fcmpo cr0, f3, f0
/* 80040D74 0003DCB4  4C 41 13 82 */	cror 2, 1, 2
/* 80040D78 0003DCB8  40 82 00 48 */	bne lbl_80040DC0
/* 80040D7C 0003DCBC  EC 02 08 2A */	fadds f0, f2, f1
/* 80040D80 0003DCC0  FC 03 00 40 */	fcmpo cr0, f3, f0
/* 80040D84 0003DCC4  4C 40 13 82 */	cror 2, 0, 2
/* 80040D88 0003DCC8  40 82 00 38 */	bne lbl_80040DC0
/* 80040D8C 0003DCCC  C0 75 00 08 */	lfs f3, 8(r21)
/* 80040D90 0003DCD0  C0 5F 00 14 */	lfs f2, 0x14(r31)
/* 80040D94 0003DCD4  C0 1F 00 0C */	lfs f0, 0xc(r31)
/* 80040D98 0003DCD8  EC 3F 00 32 */	fmuls f1, f31, f0
/* 80040D9C 0003DCDC  EC 02 08 28 */	fsubs f0, f2, f1
/* 80040DA0 0003DCE0  FC 03 00 40 */	fcmpo cr0, f3, f0
/* 80040DA4 0003DCE4  4C 41 13 82 */	cror 2, 1, 2
/* 80040DA8 0003DCE8  40 82 00 18 */	bne lbl_80040DC0
/* 80040DAC 0003DCEC  EC 02 08 2A */	fadds f0, f2, f1
/* 80040DB0 0003DCF0  FC 03 00 40 */	fcmpo cr0, f3, f0
/* 80040DB4 0003DCF4  4C 40 13 82 */	cror 2, 0, 2
/* 80040DB8 0003DCF8  40 82 00 08 */	bne lbl_80040DC0
/* 80040DBC 0003DCFC  38 00 00 01 */	li r0, 1
.global lbl_80040DC0
lbl_80040DC0:
/* 80040DC0 0003DD00  54 00 06 3F */	clrlwi. r0, r0, 0x18
/* 80040DC4 0003DD04  41 82 00 50 */	beq lbl_80040E14
/* 80040DC8 0003DD08  7F E3 FB 78 */	mr r3, r31
/* 80040DCC 0003DD0C  7E C4 B3 78 */	mr r4, r22
/* 80040DD0 0003DD10  80 BF 00 2C */	lwz r5, 0x2c(r31)
/* 80040DD4 0003DD14  88 DF 00 30 */	lbz r6, 0x30(r31)
/* 80040DD8 0003DD18  7C C6 07 74 */	extsb r6, r6
/* 80040DDC 0003DD1C  7F 07 C3 78 */	mr r7, r24
/* 80040DE0 0003DD20  39 00 00 01 */	li r8, 1
/* 80040DE4 0003DD24  7E A9 AB 78 */	mr r9, r21
/* 80040DE8 0003DD28  81 9F 00 00 */	lwz r12, 0(r31)
/* 80040DEC 0003DD2C  81 8C 00 70 */	lwz r12, 0x70(r12)
/* 80040DF0 0003DD30  7D 89 03 A6 */	mtctr r12
/* 80040DF4 0003DD34  4E 80 04 21 */	bctrl 
/* 80040DF8 0003DD38  54 60 06 3F */	clrlwi. r0, r3, 0x18
/* 80040DFC 0003DD3C  41 82 00 18 */	beq lbl_80040E14
/* 80040E00 0003DD40  7F E3 FB 78 */	mr r3, r31
/* 80040E04 0003DD44  7E A4 AB 78 */	mr r4, r21
/* 80040E08 0003DD48  FC 20 F0 90 */	fmr f1, f30
/* 80040E0C 0003DD4C  FC 40 F0 90 */	fmr f2, f30
/* 80040E10 0003DD50  48 00 03 F9 */	bl func_80041208
.global lbl_80040E14
lbl_80040E14:
/* 80040E14 0003DD54  7F E3 FB 78 */	mr r3, r31
/* 80040E18 0003DD58  7E C4 B3 78 */	mr r4, r22
/* 80040E1C 0003DD5C  81 9F 00 00 */	lwz r12, 0(r31)
/* 80040E20 0003DD60  81 8C 00 B0 */	lwz r12, 0xb0(r12)
/* 80040E24 0003DD64  7D 89 03 A6 */	mtctr r12
/* 80040E28 0003DD68  4E 80 04 21 */	bctrl 
/* 80040E2C 0003DD6C  7C 76 1B 78 */	mr r22, r3
/* 80040E30 0003DD70  3A 94 00 01 */	addi r20, r20, 1
.global lbl_80040E34
lbl_80040E34:
/* 80040E34 0003DD74  7C 14 E0 00 */	cmpw r20, r28
/* 80040E38 0003DD78  40 80 00 0C */	bge lbl_80040E44
/* 80040E3C 0003DD7C  28 16 00 00 */	cmplwi r22, 0
/* 80040E40 0003DD80  40 82 FE 68 */	bne lbl_80040CA8
.global lbl_80040E44
lbl_80040E44:
/* 80040E44 0003DD84  3A F7 00 01 */	addi r23, r23, 1
/* 80040E48 0003DD88  2C 17 00 04 */	cmpwi r23, 4
/* 80040E4C 0003DD8C  3B DE 00 0C */	addi r30, r30, 0xc
/* 80040E50 0003DD90  41 80 FD 6C */	blt lbl_80040BBC
/* 80040E54 0003DD94  7F E3 FB 78 */	mr r3, r31
/* 80040E58 0003DD98  4B FF C0 21 */	bl func_8003CE78
/* 80040E5C 0003DD9C  E3 E1 00 68 */	psq_l f31, 104(r1), 0, qr0
/* 80040E60 0003DDA0  CB E1 00 60 */	lfd f31, 0x60(r1)
/* 80040E64 0003DDA4  E3 C1 00 58 */	psq_l f30, 88(r1), 0, qr0
/* 80040E68 0003DDA8  CB C1 00 50 */	lfd f30, 0x50(r1)
/* 80040E6C 0003DDAC  39 61 00 50 */	addi r11, r1, 0x50
/* 80040E70 0003DDB0  48 32 13 95 */	bl func_80362204
/* 80040E74 0003DDB4  80 01 00 74 */	lwz r0, 0x74(r1)
/* 80040E78 0003DDB8  7C 08 03 A6 */	mtlr r0
/* 80040E7C 0003DDBC  38 21 00 70 */	addi r1, r1, 0x70
/* 80040E80 0003DDC0  4E 80 00 20 */	blr 
