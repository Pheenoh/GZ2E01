.include "macros.inc"

.section .text, "ax" # 80104670


.global func_80104670
func_80104670:
/* 80104670 001015B0  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80104674 001015B4  7C 08 02 A6 */	mflr r0
/* 80104678 001015B8  90 01 00 24 */	stw r0, 0x24(r1)
/* 8010467C 001015BC  39 61 00 20 */	addi r11, r1, 0x20
/* 80104680 001015C0  48 25 DB 59 */	bl func_803621D8
/* 80104684 001015C4  7C 7F 1B 78 */	mr r31, r3
/* 80104688 001015C8  80 03 31 A0 */	lwz r0, 0x31a0(r3)
/* 8010468C 001015CC  54 1E 03 5A */	rlwinm r30, r0, 0, 0xd, 0xd
/* 80104690 001015D0  A0 83 2F E8 */	lhz r4, 0x2fe8(r3)
/* 80104694 001015D4  20 04 00 16 */	subfic r0, r4, 0x16
/* 80104698 001015D8  7C 00 00 34 */	cntlzw r0, r0
/* 8010469C 001015DC  54 1D D9 7E */	srwi r29, r0, 5
/* 801046A0 001015E0  20 04 00 7C */	subfic r0, r4, 0x7c
/* 801046A4 001015E4  7C 00 00 34 */	cntlzw r0, r0
/* 801046A8 001015E8  54 1C D9 7E */	srwi r28, r0, 5
/* 801046AC 001015EC  38 80 00 7B */	li r4, 0x7b
/* 801046B0 001015F0  4B FB D8 BD */	bl func_800C1F6C
/* 801046B4 001015F4  80 1F 05 70 */	lwz r0, 0x570(r31)
/* 801046B8 001015F8  54 00 02 11 */	rlwinm. r0, r0, 0, 8, 8
/* 801046BC 001015FC  41 82 00 10 */	beq lbl_801046CC
/* 801046C0 00101600  80 1F 05 70 */	lwz r0, 0x570(r31)
/* 801046C4 00101604  54 00 02 4E */	rlwinm r0, r0, 0, 9, 7
/* 801046C8 00101608  90 1F 05 70 */	stw r0, 0x570(r31)
.global lbl_801046CC
lbl_801046CC:
/* 801046CC 0010160C  28 1E 00 00 */	cmplwi r30, 0
/* 801046D0 00101610  40 82 00 1C */	bne lbl_801046EC
/* 801046D4 00101614  3C 60 80 39 */	lis r3, lbl_8038ED2C@ha
/* 801046D8 00101618  38 63 ED 2C */	addi r3, r3, lbl_8038ED2C@l
/* 801046DC 0010161C  C0 03 00 60 */	lfs f0, 0x60(r3)
/* 801046E0 00101620  D0 1F 34 80 */	stfs f0, 0x3480(r31)
/* 801046E4 00101624  38 00 00 00 */	li r0, 0
/* 801046E8 00101628  B0 1F 30 10 */	sth r0, 0x3010(r31)
.global lbl_801046EC
lbl_801046EC:
/* 801046EC 0010162C  57 80 06 3F */	clrlwi. r0, r28, 0x18
/* 801046F0 00101630  40 82 00 0C */	bne lbl_801046FC
/* 801046F4 00101634  57 A0 06 3F */	clrlwi. r0, r29, 0x18
/* 801046F8 00101638  41 82 00 4C */	beq lbl_80104744
.global lbl_801046FC
lbl_801046FC:
/* 801046FC 0010163C  38 00 00 C7 */	li r0, 0xc7
/* 80104700 00101640  90 1F 31 98 */	stw r0, 0x3198(r31)
/* 80104704 00101644  57 A0 06 3F */	clrlwi. r0, r29, 0x18
/* 80104708 00101648  41 82 00 44 */	beq lbl_8010474C
/* 8010470C 0010164C  38 00 28 00 */	li r0, 0x2800
/* 80104710 00101650  B0 1F 30 80 */	sth r0, 0x3080(r31)
/* 80104714 00101654  A8 1F 30 80 */	lha r0, 0x3080(r31)
/* 80104718 00101658  B0 1F 30 0E */	sth r0, 0x300e(r31)
/* 8010471C 0010165C  38 00 00 01 */	li r0, 1
/* 80104720 00101660  B0 1F 30 10 */	sth r0, 0x3010(r31)
/* 80104724 00101664  7F E3 FB 78 */	mr r3, r31
/* 80104728 00101668  A8 1F 30 80 */	lha r0, 0x3080(r31)
/* 8010472C 0010166C  7C 00 00 D0 */	neg r0, r0
/* 80104730 00101670  7C 04 07 34 */	extsh r4, r0
/* 80104734 00101674  38 A0 00 00 */	li r5, 0
/* 80104738 00101678  38 C0 00 00 */	li r6, 0
/* 8010473C 0010167C  4B FA 94 3D */	bl func_800ADB78
/* 80104740 00101680  48 00 00 0C */	b lbl_8010474C
.global lbl_80104744
lbl_80104744:
/* 80104744 00101684  38 00 FF FF */	li r0, -1
/* 80104748 00101688  90 1F 31 98 */	stw r0, 0x3198(r31)
.global lbl_8010474C
lbl_8010474C:
/* 8010474C 0010168C  38 00 00 05 */	li r0, 5
/* 80104750 00101690  98 1F 2F 98 */	stb r0, 0x2f98(r31)
/* 80104754 00101694  7F E3 FB 78 */	mr r3, r31
/* 80104758 00101698  4B FF EF 41 */	bl func_80103698
/* 8010475C 0010169C  80 1F 05 70 */	lwz r0, 0x570(r31)
/* 80104760 001016A0  54 00 05 EF */	rlwinm. r0, r0, 0, 0x17, 0x17
/* 80104764 001016A4  41 82 00 14 */	beq lbl_80104778
/* 80104768 001016A8  C0 1F 33 B4 */	lfs f0, 0x33b4(r31)
/* 8010476C 001016AC  D0 1F 04 D4 */	stfs f0, 0x4d4(r31)
/* 80104770 001016B0  C0 02 92 C0 */	lfs f0, lbl_80452CC0-_SDA2_BASE_(r2)
/* 80104774 001016B4  D0 1F 04 FC */	stfs f0, 0x4fc(r31)
.global lbl_80104778
lbl_80104778:
/* 80104778 001016B8  7F E3 FB 78 */	mr r3, r31
/* 8010477C 001016BC  4B FF D1 B9 */	bl func_80101934
/* 80104780 001016C0  3C 60 80 40 */	lis r3, lbl_804061C0@ha
/* 80104784 001016C4  38 63 61 C0 */	addi r3, r3, lbl_804061C0@l
/* 80104788 001016C8  80 03 5F 18 */	lwz r0, 0x5f18(r3)
/* 8010478C 001016CC  64 00 00 10 */	oris r0, r0, 0x10
/* 80104790 001016D0  90 03 5F 18 */	stw r0, 0x5f18(r3)
/* 80104794 001016D4  38 00 00 00 */	li r0, 0
/* 80104798 001016D8  B0 1F 30 08 */	sth r0, 0x3008(r31)
/* 8010479C 001016DC  38 60 00 01 */	li r3, 1
/* 801047A0 001016E0  39 61 00 20 */	addi r11, r1, 0x20
/* 801047A4 001016E4  48 25 DA 81 */	bl func_80362224
/* 801047A8 001016E8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 801047AC 001016EC  7C 08 03 A6 */	mtlr r0
/* 801047B0 001016F0  38 21 00 20 */	addi r1, r1, 0x20
/* 801047B4 001016F4  4E 80 00 20 */	blr 
/* 801047B8 001016F8  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 801047BC 001016FC  7C 08 02 A6 */	mflr r0
/* 801047C0 00101700  90 01 00 14 */	stw r0, 0x14(r1)
/* 801047C4 00101704  93 E1 00 0C */	stw r31, 0xc(r1)
/* 801047C8 00101708  7C 7F 1B 78 */	mr r31, r3
/* 801047CC 0010170C  4B FF DC 19 */	bl func_801023E4
/* 801047D0 00101710  7F E3 FB 78 */	mr r3, r31
/* 801047D4 00101714  4B FF F7 35 */	bl func_80103F08
/* 801047D8 00101718  54 60 06 3F */	clrlwi. r0, r3, 0x18
/* 801047DC 0010171C  41 82 00 18 */	beq lbl_801047F4
/* 801047E0 00101720  88 1F 2F 8E */	lbz r0, 0x2f8e(r31)
/* 801047E4 00101724  54 00 06 F7 */	rlwinm. r0, r0, 0, 0x1b, 0x1b
/* 801047E8 00101728  41 82 00 0C */	beq lbl_801047F4
/* 801047EC 0010172C  38 00 00 1E */	li r0, 0x1e
/* 801047F0 00101730  B0 1F 30 00 */	sth r0, 0x3000(r31)
.global lbl_801047F4
lbl_801047F4:
/* 801047F4 00101734  7F E3 FB 78 */	mr r3, r31
/* 801047F8 00101738  4B FF EE A1 */	bl func_80103698
/* 801047FC 0010173C  7F E3 FB 78 */	mr r3, r31
/* 80104800 00101740  4B FF E8 59 */	bl func_80103058
/* 80104804 00101744  2C 03 00 00 */	cmpwi r3, 0
/* 80104808 00101748  41 82 00 0C */	beq lbl_80104814
/* 8010480C 0010174C  38 60 00 01 */	li r3, 1
/* 80104810 00101750  48 00 01 34 */	b lbl_80104944
.global lbl_80104814
lbl_80104814:
/* 80104814 00101754  7F E3 FB 78 */	mr r3, r31
/* 80104818 00101758  4B FF E1 B1 */	bl func_801029C8
/* 8010481C 0010175C  2C 03 00 00 */	cmpwi r3, 0
/* 80104820 00101760  41 82 00 0C */	beq lbl_8010482C
/* 80104824 00101764  38 60 00 01 */	li r3, 1
/* 80104828 00101768  48 00 01 1C */	b lbl_80104944
.global lbl_8010482C
lbl_8010482C:
/* 8010482C 0010176C  C0 3F 33 AC */	lfs f1, 0x33ac(r31)
/* 80104830 00101770  C0 02 92 A4 */	lfs f0, lbl_80452CA4-_SDA2_BASE_(r2)
/* 80104834 00101774  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 80104838 00101778  40 81 00 28 */	ble lbl_80104860
/* 8010483C 0010177C  7F E3 FB 78 */	mr r3, r31
/* 80104840 00101780  4B FB 21 F1 */	bl func_800B6A30
/* 80104844 00101784  2C 03 00 00 */	cmpwi r3, 0
/* 80104848 00101788  41 82 00 18 */	beq lbl_80104860
/* 8010484C 0010178C  7F E3 FB 78 */	mr r3, r31
/* 80104850 00101790  38 80 00 01 */	li r4, 1
/* 80104854 00101794  4B FF EA 75 */	bl func_801032C8
/* 80104858 00101798  38 60 00 01 */	li r3, 1
/* 8010485C 0010179C  48 00 00 E8 */	b lbl_80104944
.global lbl_80104860
lbl_80104860:
/* 80104860 001017A0  7F E3 FB 78 */	mr r3, r31
/* 80104864 001017A4  4B FF F6 7D */	bl func_80103EE0
/* 80104868 001017A8  54 60 06 3F */	clrlwi. r0, r3, 0x18
/* 8010486C 001017AC  41 82 00 2C */	beq lbl_80104898
/* 80104870 001017B0  88 1F 2F 8D */	lbz r0, 0x2f8d(r31)
/* 80104874 001017B4  54 00 06 F7 */	rlwinm. r0, r0, 0, 0x1b, 0x1b
/* 80104878 001017B8  41 82 00 20 */	beq lbl_80104898
/* 8010487C 001017BC  7F E3 FB 78 */	mr r3, r31
/* 80104880 001017C0  4B FF D1 39 */	bl func_801019B8
/* 80104884 001017C4  54 60 06 3F */	clrlwi. r0, r3, 0x18
/* 80104888 001017C8  40 82 00 10 */	bne lbl_80104898
/* 8010488C 001017CC  7F E3 FB 78 */	mr r3, r31
/* 80104890 001017D0  48 00 00 C9 */	bl func_80104958
/* 80104894 001017D4  48 00 00 AC */	b lbl_80104940
.global lbl_80104898
lbl_80104898:
/* 80104898 001017D8  3C 60 80 40 */	lis r3, lbl_804061C0@ha
/* 8010489C 001017DC  38 63 61 C0 */	addi r3, r3, lbl_804061C0@l
/* 801048A0 001017E0  88 03 5E 24 */	lbz r0, 0x5e24(r3)
/* 801048A4 001017E4  28 00 00 09 */	cmplwi r0, 9
/* 801048A8 001017E8  40 82 00 48 */	bne lbl_801048F0
/* 801048AC 001017EC  88 1F 2F 8D */	lbz r0, 0x2f8d(r31)
/* 801048B0 001017F0  54 00 06 F7 */	rlwinm. r0, r0, 0, 0x1b, 0x1b
/* 801048B4 001017F4  41 82 00 3C */	beq lbl_801048F0
/* 801048B8 001017F8  80 1F 05 74 */	lwz r0, 0x574(r31)
/* 801048BC 001017FC  64 00 00 40 */	oris r0, r0, 0x40
/* 801048C0 00101800  90 1F 05 74 */	stw r0, 0x574(r31)
/* 801048C4 00101804  3C 60 80 39 */	lis r3, lbl_8038ED2C@ha
/* 801048C8 00101808  38 A3 ED 2C */	addi r5, r3, lbl_8038ED2C@l
/* 801048CC 0010180C  A8 05 00 5C */	lha r0, 0x5c(r5)
/* 801048D0 00101810  B0 1F 30 D0 */	sth r0, 0x30d0(r31)
/* 801048D4 00101814  7F E3 FB 78 */	mr r3, r31
/* 801048D8 00101818  38 80 00 C6 */	li r4, 0xc6
/* 801048DC 0010181C  38 A5 00 3C */	addi r5, r5, 0x3c
/* 801048E0 00101820  4B FA 88 15 */	bl func_800AD0F4
/* 801048E4 00101824  38 00 00 C6 */	li r0, 0xc6
/* 801048E8 00101828  90 1F 31 98 */	stw r0, 0x3198(r31)
/* 801048EC 0010182C  48 00 00 54 */	b lbl_80104940
.global lbl_801048F0
lbl_801048F0:
/* 801048F0 00101830  7F E3 FB 78 */	mr r3, r31
/* 801048F4 00101834  4B FF F6 A1 */	bl func_80103F94
/* 801048F8 00101838  2C 03 00 00 */	cmpwi r3, 0
/* 801048FC 0010183C  40 82 00 44 */	bne lbl_80104940
/* 80104900 00101840  7F E3 FB 78 */	mr r3, r31
/* 80104904 00101844  4B FF F6 05 */	bl func_80103F08
/* 80104908 00101848  54 60 06 3F */	clrlwi. r0, r3, 0x18
/* 8010490C 0010184C  41 82 00 10 */	beq lbl_8010491C
/* 80104910 00101850  88 1F 2F 8E */	lbz r0, 0x2f8e(r31)
/* 80104914 00101854  54 00 06 F7 */	rlwinm. r0, r0, 0, 0x1b, 0x1b
/* 80104918 00101858  40 82 00 28 */	bne lbl_80104940
.global lbl_8010491C
lbl_8010491C:
/* 8010491C 0010185C  C0 3F 33 98 */	lfs f1, 0x3398(r31)
/* 80104920 00101860  3C 60 80 39 */	lis r3, lbl_8038ED2C@ha
/* 80104924 00101864  38 63 ED 2C */	addi r3, r3, lbl_8038ED2C@l
/* 80104928 00101868  C0 03 00 C8 */	lfs f0, 0xc8(r3)
/* 8010492C 0010186C  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 80104930 00101870  40 80 00 10 */	bge lbl_80104940
/* 80104934 00101874  7F E3 FB 78 */	mr r3, r31
/* 80104938 00101878  38 80 00 00 */	li r4, 0
/* 8010493C 0010187C  4B FF F9 BD */	bl func_801042F8
.global lbl_80104940
lbl_80104940:
/* 80104940 00101880  38 60 00 01 */	li r3, 1
.global lbl_80104944
lbl_80104944:
/* 80104944 00101884  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80104948 00101888  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8010494C 0010188C  7C 08 03 A6 */	mtlr r0
/* 80104950 00101890  38 21 00 10 */	addi r1, r1, 0x10
/* 80104954 00101894  4E 80 00 20 */	blr 
