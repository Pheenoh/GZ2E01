.include "macros.inc"

.section .text, "ax" # 80314F98


.global func_80314F98
func_80314F98:
/* 80314F98 00311ED8  94 21 FF A0 */	stwu r1, -0x60(r1)
/* 80314F9C 00311EDC  7C 08 02 A6 */	mflr r0
/* 80314FA0 00311EE0  90 01 00 64 */	stw r0, 0x64(r1)
/* 80314FA4 00311EE4  39 61 00 60 */	addi r11, r1, 0x60
/* 80314FA8 00311EE8  48 04 D2 2D */	bl func_803621D4
/* 80314FAC 00311EEC  80 83 00 4C */	lwz r4, 0x4c(r3)
/* 80314FB0 00311EF0  80 84 00 14 */	lwz r4, 0x14(r4)
/* 80314FB4 00311EF4  38 A0 00 00 */	li r5, 0
/* 80314FB8 00311EF8  39 00 00 00 */	li r8, 0
/* 80314FBC 00311EFC  38 E1 00 14 */	addi r7, r1, 0x14
/* 80314FC0 00311F00  38 C1 00 08 */	addi r6, r1, 8
/* 80314FC4 00311F04  38 00 00 0C */	li r0, 0xc
/* 80314FC8 00311F08  7C 09 03 A6 */	mtctr r0
.global lbl_80314FCC
lbl_80314FCC:
/* 80314FCC 00311F0C  99 06 00 00 */	stb r8, 0(r6)
/* 80314FD0 00311F10  7D 07 29 2E */	stwx r8, r7, r5
/* 80314FD4 00311F14  38 A5 00 04 */	addi r5, r5, 4
/* 80314FD8 00311F18  38 C6 00 01 */	addi r6, r6, 1
/* 80314FDC 00311F1C  42 00 FF F0 */	bdnz lbl_80314FCC
/* 80314FE0 00311F20  48 00 01 90 */	b lbl_80315170
.global lbl_80314FE4
lbl_80314FE4:
/* 80314FE4 00311F24  2C 07 00 0A */	cmpwi r7, 0xa
/* 80314FE8 00311F28  41 82 00 8C */	beq lbl_80315074
/* 80314FEC 00311F2C  40 80 00 10 */	bge lbl_80314FFC
/* 80314FF0 00311F30  2C 07 00 09 */	cmpwi r7, 9
/* 80314FF4 00311F34  40 80 00 1C */	bge lbl_80315010
/* 80314FF8 00311F38  48 00 01 74 */	b lbl_8031516C
.global lbl_80314FFC
lbl_80314FFC:
/* 80314FFC 00311F3C  2C 07 00 15 */	cmpwi r7, 0x15
/* 80315000 00311F40  40 80 01 6C */	bge lbl_8031516C
/* 80315004 00311F44  2C 07 00 0D */	cmpwi r7, 0xd
/* 80315008 00311F48  40 80 01 0C */	bge lbl_80315114
/* 8031500C 00311F4C  48 00 00 CC */	b lbl_803150D8
.global lbl_80315010
lbl_80315010:
/* 80315010 00311F50  80 04 00 08 */	lwz r0, 8(r4)
/* 80315014 00311F54  2C 00 00 04 */	cmpwi r0, 4
/* 80315018 00311F58  40 82 00 18 */	bne lbl_80315030
/* 8031501C 00311F5C  38 C0 00 0C */	li r6, 0xc
/* 80315020 00311F60  38 A1 00 08 */	addi r5, r1, 8
/* 80315024 00311F64  38 07 FF F7 */	addi r0, r7, -9
/* 80315028 00311F68  7C C5 01 AE */	stbx r6, r5, r0
/* 8031502C 00311F6C  48 00 00 14 */	b lbl_80315040
.global lbl_80315030
lbl_80315030:
/* 80315030 00311F70  38 C0 00 06 */	li r6, 6
/* 80315034 00311F74  38 A1 00 08 */	addi r5, r1, 8
/* 80315038 00311F78  38 07 FF F7 */	addi r0, r7, -9
/* 8031503C 00311F7C  7C C5 01 AE */	stbx r6, r5, r0
.global lbl_80315040
lbl_80315040:
/* 80315040 00311F80  80 E3 00 4C */	lwz r7, 0x4c(r3)
/* 80315044 00311F84  81 07 00 18 */	lwz r8, 0x18(r7)
/* 80315048 00311F88  80 04 00 00 */	lwz r0, 0(r4)
/* 8031504C 00311F8C  54 06 10 3A */	slwi r6, r0, 2
/* 80315050 00311F90  38 A1 00 14 */	addi r5, r1, 0x14
/* 80315054 00311F94  38 06 FF DC */	addi r0, r6, -36
/* 80315058 00311F98  7D 05 01 2E */	stwx r8, r5, r0
/* 8031505C 00311F9C  88 04 00 0C */	lbz r0, 0xc(r4)
/* 80315060 00311FA0  98 07 00 4C */	stb r0, 0x4c(r7)
/* 80315064 00311FA4  80 04 00 08 */	lwz r0, 8(r4)
/* 80315068 00311FA8  80 A3 00 4C */	lwz r5, 0x4c(r3)
/* 8031506C 00311FAC  90 05 00 50 */	stw r0, 0x50(r5)
/* 80315070 00311FB0  48 00 00 FC */	b lbl_8031516C
.global lbl_80315074
lbl_80315074:
/* 80315074 00311FB4  80 04 00 08 */	lwz r0, 8(r4)
/* 80315078 00311FB8  2C 00 00 04 */	cmpwi r0, 4
/* 8031507C 00311FBC  40 82 00 18 */	bne lbl_80315094
/* 80315080 00311FC0  38 C0 00 0C */	li r6, 0xc
/* 80315084 00311FC4  38 A1 00 08 */	addi r5, r1, 8
/* 80315088 00311FC8  38 07 FF F7 */	addi r0, r7, -9
/* 8031508C 00311FCC  7C C5 01 AE */	stbx r6, r5, r0
/* 80315090 00311FD0  48 00 00 14 */	b lbl_803150A4
.global lbl_80315094
lbl_80315094:
/* 80315094 00311FD4  38 C0 00 06 */	li r6, 6
/* 80315098 00311FD8  38 A1 00 08 */	addi r5, r1, 8
/* 8031509C 00311FDC  38 07 FF F7 */	addi r0, r7, -9
/* 803150A0 00311FE0  7C C5 01 AE */	stbx r6, r5, r0
.global lbl_803150A4
lbl_803150A4:
/* 803150A4 00311FE4  80 E3 00 4C */	lwz r7, 0x4c(r3)
/* 803150A8 00311FE8  81 07 00 1C */	lwz r8, 0x1c(r7)
/* 803150AC 00311FEC  80 04 00 00 */	lwz r0, 0(r4)
/* 803150B0 00311FF0  54 06 10 3A */	slwi r6, r0, 2
/* 803150B4 00311FF4  38 A1 00 14 */	addi r5, r1, 0x14
/* 803150B8 00311FF8  38 06 FF DC */	addi r0, r6, -36
/* 803150BC 00311FFC  7D 05 01 2E */	stwx r8, r5, r0
/* 803150C0 00312000  88 04 00 0C */	lbz r0, 0xc(r4)
/* 803150C4 00312004  98 07 00 54 */	stb r0, 0x54(r7)
/* 803150C8 00312008  80 04 00 08 */	lwz r0, 8(r4)
/* 803150CC 0031200C  80 A3 00 4C */	lwz r5, 0x4c(r3)
/* 803150D0 00312010  90 05 00 58 */	stw r0, 0x58(r5)
/* 803150D4 00312014  48 00 00 98 */	b lbl_8031516C
.global lbl_803150D8
lbl_803150D8:
/* 803150D8 00312018  38 C0 00 04 */	li r6, 4
/* 803150DC 0031201C  38 A1 00 08 */	addi r5, r1, 8
/* 803150E0 00312020  38 07 FF F7 */	addi r0, r7, -9
/* 803150E4 00312024  7C C5 01 AE */	stbx r6, r5, r0
/* 803150E8 00312028  80 C3 00 4C */	lwz r6, 0x4c(r3)
/* 803150EC 0031202C  81 04 00 00 */	lwz r8, 0(r4)
/* 803150F0 00312030  38 08 FF F5 */	addi r0, r8, -11
/* 803150F4 00312034  54 05 15 BA */	rlwinm r5, r0, 2, 0x16, 0x1d
/* 803150F8 00312038  38 05 00 24 */	addi r0, r5, 0x24
/* 803150FC 0031203C  7C E6 00 2E */	lwzx r7, r6, r0
/* 80315100 00312040  55 06 10 3A */	slwi r6, r8, 2
/* 80315104 00312044  38 A1 00 14 */	addi r5, r1, 0x14
/* 80315108 00312048  38 06 FF DC */	addi r0, r6, -36
/* 8031510C 0031204C  7C E5 01 2E */	stwx r7, r5, r0
/* 80315110 00312050  48 00 00 5C */	b lbl_8031516C
.global lbl_80315114
lbl_80315114:
/* 80315114 00312054  80 04 00 08 */	lwz r0, 8(r4)
/* 80315118 00312058  2C 00 00 04 */	cmpwi r0, 4
/* 8031511C 0031205C  40 82 00 18 */	bne lbl_80315134
/* 80315120 00312060  38 C0 00 08 */	li r6, 8
/* 80315124 00312064  38 A1 00 08 */	addi r5, r1, 8
/* 80315128 00312068  38 07 FF F7 */	addi r0, r7, -9
/* 8031512C 0031206C  7C C5 01 AE */	stbx r6, r5, r0
/* 80315130 00312070  48 00 00 14 */	b lbl_80315144
.global lbl_80315134
lbl_80315134:
/* 80315134 00312074  38 C0 00 04 */	li r6, 4
/* 80315138 00312078  38 A1 00 08 */	addi r5, r1, 8
/* 8031513C 0031207C  38 07 FF F7 */	addi r0, r7, -9
/* 80315140 00312080  7C C5 01 AE */	stbx r6, r5, r0
.global lbl_80315144
lbl_80315144:
/* 80315144 00312084  80 C3 00 4C */	lwz r6, 0x4c(r3)
/* 80315148 00312088  81 04 00 00 */	lwz r8, 0(r4)
/* 8031514C 0031208C  38 08 FF F3 */	addi r0, r8, -13
/* 80315150 00312090  54 05 15 BA */	rlwinm r5, r0, 2, 0x16, 0x1d
/* 80315154 00312094  38 05 00 2C */	addi r0, r5, 0x2c
/* 80315158 00312098  7C E6 00 2E */	lwzx r7, r6, r0
/* 8031515C 0031209C  55 06 10 3A */	slwi r6, r8, 2
/* 80315160 003120A0  38 A1 00 14 */	addi r5, r1, 0x14
/* 80315164 003120A4  38 06 FF DC */	addi r0, r6, -36
/* 80315168 003120A8  7C E5 01 2E */	stwx r7, r5, r0
.global lbl_8031516C
lbl_8031516C:
/* 8031516C 003120AC  38 84 00 10 */	addi r4, r4, 0x10
.global lbl_80315170
lbl_80315170:
/* 80315170 003120B0  80 E4 00 00 */	lwz r7, 0(r4)
/* 80315174 003120B4  2C 07 00 FF */	cmpwi r7, 0xff
/* 80315178 003120B8  40 82 FE 6C */	bne lbl_80314FE4
/* 8031517C 003120BC  80 A3 00 30 */	lwz r5, 0x30(r3)
/* 80315180 003120C0  38 00 00 00 */	li r0, 0
/* 80315184 003120C4  98 03 00 48 */	stb r0, 0x48(r3)
/* 80315188 003120C8  48 00 00 5C */	b lbl_803151E4
.global lbl_8031518C
lbl_8031518C:
/* 8031518C 003120CC  2C 04 00 19 */	cmpwi r4, 0x19
/* 80315190 003120D0  40 82 00 34 */	bne lbl_803151C4
/* 80315194 003120D4  80 05 00 04 */	lwz r0, 4(r5)
/* 80315198 003120D8  2C 00 00 00 */	cmpwi r0, 0
/* 8031519C 003120DC  41 82 00 28 */	beq lbl_803151C4
/* 803151A0 003120E0  38 00 00 01 */	li r0, 1
/* 803151A4 003120E4  98 03 00 34 */	stb r0, 0x34(r3)
/* 803151A8 003120E8  88 01 00 09 */	lbz r0, 9(r1)
/* 803151AC 003120EC  1C 00 00 03 */	mulli r0, r0, 3
/* 803151B0 003120F0  98 01 00 09 */	stb r0, 9(r1)
/* 803151B4 003120F4  80 83 00 4C */	lwz r4, 0x4c(r3)
/* 803151B8 003120F8  80 04 00 20 */	lwz r0, 0x20(r4)
/* 803151BC 003120FC  90 01 00 18 */	stw r0, 0x18(r1)
/* 803151C0 00312100  48 00 00 20 */	b lbl_803151E0
.global lbl_803151C4
lbl_803151C4:
/* 803151C4 00312104  2C 04 00 00 */	cmpwi r4, 0
/* 803151C8 00312108  40 82 00 18 */	bne lbl_803151E0
/* 803151CC 0031210C  80 05 00 04 */	lwz r0, 4(r5)
/* 803151D0 00312110  2C 00 00 00 */	cmpwi r0, 0
/* 803151D4 00312114  41 82 00 0C */	beq lbl_803151E0
/* 803151D8 00312118  38 00 00 01 */	li r0, 1
/* 803151DC 0031211C  98 03 00 48 */	stb r0, 0x48(r3)
.global lbl_803151E0
lbl_803151E0:
/* 803151E0 00312120  38 A5 00 08 */	addi r5, r5, 8
.global lbl_803151E4
lbl_803151E4:
/* 803151E4 00312124  80 85 00 00 */	lwz r4, 0(r5)
/* 803151E8 00312128  2C 04 00 FF */	cmpwi r4, 0xff
/* 803151EC 0031212C  40 82 FF A0 */	bne lbl_8031518C
/* 803151F0 00312130  3B 60 00 00 */	li r27, 0
/* 803151F4 00312134  3B A0 00 00 */	li r29, 0
/* 803151F8 00312138  3B 81 00 14 */	addi r28, r1, 0x14
/* 803151FC 0031213C  3B C1 00 08 */	addi r30, r1, 8
/* 80315200 00312140  7F DF F3 78 */	mr r31, r30
.global lbl_80315204
lbl_80315204:
/* 80315204 00312144  7C 9C E8 2E */	lwzx r4, r28, r29
/* 80315208 00312148  28 04 00 00 */	cmplwi r4, 0
/* 8031520C 0031214C  41 82 00 14 */	beq lbl_80315220
/* 80315210 00312150  38 7B 00 09 */	addi r3, r27, 9
/* 80315214 00312154  88 BE 00 00 */	lbz r5, 0(r30)
/* 80315218 00312158  48 04 C4 E9 */	bl func_80361700
/* 8031521C 0031215C  48 00 00 14 */	b lbl_80315230
.global lbl_80315220
lbl_80315220:
/* 80315220 00312160  38 7B 00 09 */	addi r3, r27, 9
/* 80315224 00312164  38 80 00 00 */	li r4, 0
/* 80315228 00312168  88 BF 00 00 */	lbz r5, 0(r31)
/* 8031522C 0031216C  48 04 C6 E1 */	bl func_8036190C
.global lbl_80315230
lbl_80315230:
/* 80315230 00312170  3B 7B 00 01 */	addi r27, r27, 1
/* 80315234 00312174  28 1B 00 0C */	cmplwi r27, 0xc
/* 80315238 00312178  3B FF 00 01 */	addi r31, r31, 1
/* 8031523C 0031217C  3B DE 00 01 */	addi r30, r30, 1
/* 80315240 00312180  3B BD 00 04 */	addi r29, r29, 4
/* 80315244 00312184  41 80 FF C0 */	blt lbl_80315204
/* 80315248 00312188  39 61 00 60 */	addi r11, r1, 0x60
/* 8031524C 0031218C  48 04 CF D5 */	bl func_80362220
/* 80315250 00312190  80 01 00 64 */	lwz r0, 0x64(r1)
/* 80315254 00312194  7C 08 03 A6 */	mtlr r0
/* 80315258 00312198  38 21 00 60 */	addi r1, r1, 0x60
/* 8031525C 0031219C  4E 80 00 20 */	blr 
