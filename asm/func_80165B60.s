.include "macros.inc"

.section .text, "ax" # 80165B60


.global func_80165B60
func_80165B60:
/* 80165B60 00162AA0  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 80165B64 00162AA4  7C 08 02 A6 */	mflr r0
/* 80165B68 00162AA8  90 01 00 44 */	stw r0, 0x44(r1)
/* 80165B6C 00162AAC  39 61 00 40 */	addi r11, r1, 0x40
/* 80165B70 00162AB0  48 1F C6 69 */	bl func_803621D8
/* 80165B74 00162AB4  7C 9C 23 78 */	mr r28, r4
/* 80165B78 00162AB8  7C BD 2B 78 */	mr r29, r5
/* 80165B7C 00162ABC  3B C0 00 00 */	li r30, 0
/* 80165B80 00162AC0  3C 60 80 40 */	lis r3, lbl_804061C0@ha
/* 80165B84 00162AC4  38 63 61 C0 */	addi r3, r3, lbl_804061C0@l
/* 80165B88 00162AC8  3B E3 4B 88 */	addi r31, r3, 0x4b88
/* 80165B8C 00162ACC  7F E3 FB 78 */	mr r3, r31
/* 80165B90 00162AD0  4B F2 03 21 */	bl func_80085EB0
/* 80165B94 00162AD4  54 60 07 BD */	rlwinm. r0, r3, 0, 0x1e, 0x1e
/* 80165B98 00162AD8  41 82 00 08 */	beq lbl_80165BA0
/* 80165B9C 00162ADC  63 DE 00 02 */	ori r30, r30, 2
.global lbl_80165BA0
lbl_80165BA0:
/* 80165BA0 00162AE0  54 60 07 7B */	rlwinm. r0, r3, 0, 0x1d, 0x1d
/* 80165BA4 00162AE4  41 82 00 08 */	beq lbl_80165BAC
/* 80165BA8 00162AE8  63 DE 00 08 */	ori r30, r30, 8
.global lbl_80165BAC
lbl_80165BAC:
/* 80165BAC 00162AEC  54 60 07 39 */	rlwinm. r0, r3, 0, 0x1c, 0x1c
/* 80165BB0 00162AF0  41 82 00 08 */	beq lbl_80165BB8
/* 80165BB4 00162AF4  63 DE 00 04 */	ori r30, r30, 4
.global lbl_80165BB8
lbl_80165BB8:
/* 80165BB8 00162AF8  38 61 00 08 */	addi r3, r1, 8
/* 80165BBC 00162AFC  48 10 93 CD */	bl func_8026EF88
/* 80165BC0 00162B00  38 61 00 08 */	addi r3, r1, 8
/* 80165BC4 00162B04  7F 84 E3 78 */	mr r4, r28
/* 80165BC8 00162B08  7F A5 EB 78 */	mr r5, r29
/* 80165BCC 00162B0C  C0 22 9D 18 */	lfs f1, lbl_80453718-_SDA2_BASE_(r2)
/* 80165BD0 00162B10  48 10 94 31 */	bl func_8026F000
/* 80165BD4 00162B14  7F E3 FB 78 */	mr r3, r31
/* 80165BD8 00162B18  38 81 00 08 */	addi r4, r1, 8
/* 80165BDC 00162B1C  4B F2 02 91 */	bl func_80085E6C
/* 80165BE0 00162B20  38 61 00 08 */	addi r3, r1, 8
/* 80165BE4 00162B24  38 80 FF FF */	li r4, -1
/* 80165BE8 00162B28  48 10 93 BD */	bl func_8026EFA4
/* 80165BEC 00162B2C  7F C3 F3 78 */	mr r3, r30
/* 80165BF0 00162B30  39 61 00 40 */	addi r11, r1, 0x40
/* 80165BF4 00162B34  48 1F C6 31 */	bl func_80362224
/* 80165BF8 00162B38  80 01 00 44 */	lwz r0, 0x44(r1)
/* 80165BFC 00162B3C  7C 08 03 A6 */	mtlr r0
/* 80165C00 00162B40  38 21 00 40 */	addi r1, r1, 0x40
/* 80165C04 00162B44  4E 80 00 20 */	blr 
.global lbl_80165C08
lbl_80165C08:
/* 80165C08 00162B48  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 80165C0C 00162B4C  7C 08 02 A6 */	mflr r0
/* 80165C10 00162B50  90 01 00 44 */	stw r0, 0x44(r1)
/* 80165C14 00162B54  DB E1 00 30 */	stfd f31, 0x30(r1)
/* 80165C18 00162B58  F3 E1 00 38 */	psq_st f31, 56(r1), 0, qr0
/* 80165C1C 00162B5C  93 E1 00 2C */	stw r31, 0x2c(r1)
/* 80165C20 00162B60  93 C1 00 28 */	stw r30, 0x28(r1)
/* 80165C24 00162B64  7D 1E 43 78 */	mr r30, r8
/* 80165C28 00162B68  7D 3F 4B 78 */	mr r31, r9
/* 80165C2C 00162B6C  88 09 00 1C */	lbz r0, 0x1c(r9)
/* 80165C30 00162B70  28 00 00 00 */	cmplwi r0, 0
/* 80165C34 00162B74  40 82 00 8C */	bne lbl_80165CC0
/* 80165C38 00162B78  7F C3 F3 78 */	mr r3, r30
/* 80165C3C 00162B7C  38 9F 00 0C */	addi r4, r31, 0xc
/* 80165C40 00162B80  48 10 2B D5 */	bl func_80268814
/* 80165C44 00162B84  FF E0 08 90 */	fmr f31, f1
/* 80165C48 00162B88  7F C3 F3 78 */	mr r3, r30
/* 80165C4C 00162B8C  80 9F 00 08 */	lwz r4, 8(r31)
/* 80165C50 00162B90  48 1E 15 45 */	bl func_80347194
/* 80165C54 00162B94  C0 1E 00 0C */	lfs f0, 0xc(r30)
/* 80165C58 00162B98  EC 20 08 2A */	fadds f1, f0, f1
/* 80165C5C 00162B9C  C0 02 9D 1C */	lfs f0, lbl_8045371C-_SDA2_BASE_(r2)
/* 80165C60 00162BA0  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 80165C64 00162BA4  4C 41 13 82 */	cror 2, 1, 2
/* 80165C68 00162BA8  40 82 00 58 */	bne lbl_80165CC0
/* 80165C6C 00162BAC  C0 3F 00 04 */	lfs f1, 4(r31)
/* 80165C70 00162BB0  FC 1F 08 40 */	fcmpo cr0, f31, f1
/* 80165C74 00162BB4  40 80 00 4C */	bge lbl_80165CC0
/* 80165C78 00162BB8  C0 1E 00 00 */	lfs f0, 0(r30)
/* 80165C7C 00162BBC  D0 01 00 14 */	stfs f0, 0x14(r1)
/* 80165C80 00162BC0  C0 1E 00 04 */	lfs f0, 4(r30)
/* 80165C84 00162BC4  D0 01 00 18 */	stfs f0, 0x18(r1)
/* 80165C88 00162BC8  C0 1E 00 08 */	lfs f0, 8(r30)
/* 80165C8C 00162BCC  D0 01 00 1C */	stfs f0, 0x1c(r1)
/* 80165C90 00162BD0  38 61 00 08 */	addi r3, r1, 8
/* 80165C94 00162BD4  38 81 00 14 */	addi r4, r1, 0x14
/* 80165C98 00162BD8  C0 02 9D 0C */	lfs f0, lbl_8045370C-_SDA2_BASE_(r2)
/* 80165C9C 00162BDC  EC 00 08 2A */	fadds f0, f0, f1
/* 80165CA0 00162BE0  EC 20 F8 28 */	fsubs f1, f0, f31
/* 80165CA4 00162BE4  48 10 0E E1 */	bl func_80266B84
/* 80165CA8 00162BE8  38 7F 00 0C */	addi r3, r31, 0xc
/* 80165CAC 00162BEC  38 81 00 08 */	addi r4, r1, 8
/* 80165CB0 00162BF0  7C 65 1B 78 */	mr r5, r3
/* 80165CB4 00162BF4  48 1E 13 DD */	bl func_80347090
/* 80165CB8 00162BF8  38 00 00 01 */	li r0, 1
/* 80165CBC 00162BFC  98 1F 00 1C */	stb r0, 0x1c(r31)
.global lbl_80165CC0
lbl_80165CC0:
/* 80165CC0 00162C00  E3 E1 00 38 */	psq_l f31, 56(r1), 0, qr0
/* 80165CC4 00162C04  CB E1 00 30 */	lfd f31, 0x30(r1)
/* 80165CC8 00162C08  83 E1 00 2C */	lwz r31, 0x2c(r1)
/* 80165CCC 00162C0C  83 C1 00 28 */	lwz r30, 0x28(r1)
/* 80165CD0 00162C10  80 01 00 44 */	lwz r0, 0x44(r1)
/* 80165CD4 00162C14  7C 08 03 A6 */	mtlr r0
/* 80165CD8 00162C18  38 21 00 40 */	addi r1, r1, 0x40
/* 80165CDC 00162C1C  4E 80 00 20 */	blr 
