.include "macros.inc"

.section .text, "ax" # 80040838


.global func_80040838
func_80040838:
/* 80040838 0003D778  94 21 FF 90 */	stwu r1, -0x70(r1)
/* 8004083C 0003D77C  7C 08 02 A6 */	mflr r0
/* 80040840 0003D780  90 01 00 74 */	stw r0, 0x74(r1)
/* 80040844 0003D784  39 61 00 70 */	addi r11, r1, 0x70
/* 80040848 0003D788  48 32 19 95 */	bl func_803621DC
/* 8004084C 0003D78C  7C 9D 23 78 */	mr r29, r4
/* 80040850 0003D790  7C BE 2B 78 */	mr r30, r5
/* 80040854 0003D794  7C FF 3B 78 */	mr r31, r7
/* 80040858 0003D798  88 0D 87 E4 */	lbz r0, lbl_80450D64-_SDA_BASE_(r13)
/* 8004085C 0003D79C  7C 00 07 74 */	extsb r0, r0
/* 80040860 0003D7A0  7C 1E 00 00 */	cmpw r30, r0
/* 80040864 0003D7A4  41 82 00 0C */	beq lbl_80040870
/* 80040868 0003D7A8  7C 06 00 00 */	cmpw r6, r0
/* 8004086C 0003D7AC  40 82 00 30 */	bne lbl_8004089C
.global lbl_80040870
lbl_80040870:
/* 80040870 0003D7B0  80 02 84 58 */	lwz r0, lbl_80451E58-_SDA2_BASE_(r2)
/* 80040874 0003D7B4  90 01 00 14 */	stw r0, 0x14(r1)
/* 80040878 0003D7B8  38 60 00 02 */	li r3, 2
/* 8004087C 0003D7BC  38 81 00 14 */	addi r4, r1, 0x14
/* 80040880 0003D7C0  48 31 EA FD */	bl func_8035F37C
/* 80040884 0003D7C4  80 02 84 60 */	lwz r0, lbl_80451E60-_SDA2_BASE_(r2)
/* 80040888 0003D7C8  90 01 00 10 */	stw r0, 0x10(r1)
/* 8004088C 0003D7CC  38 60 00 03 */	li r3, 3
/* 80040890 0003D7D0  38 81 00 10 */	addi r4, r1, 0x10
/* 80040894 0003D7D4  48 31 EA E9 */	bl func_8035F37C
/* 80040898 0003D7D8  48 00 00 2C */	b lbl_800408C4
.global lbl_8004089C
lbl_8004089C:
/* 8004089C 0003D7DC  80 02 84 5C */	lwz r0, lbl_80451E5C-_SDA2_BASE_(r2)
/* 800408A0 0003D7E0  90 01 00 0C */	stw r0, 0xc(r1)
/* 800408A4 0003D7E4  38 60 00 02 */	li r3, 2
/* 800408A8 0003D7E8  38 81 00 0C */	addi r4, r1, 0xc
/* 800408AC 0003D7EC  48 31 EA D1 */	bl func_8035F37C
/* 800408B0 0003D7F0  80 02 84 64 */	lwz r0, lbl_80451E64-_SDA2_BASE_(r2)
/* 800408B4 0003D7F4  90 01 00 08 */	stw r0, 8(r1)
/* 800408B8 0003D7F8  38 60 00 03 */	li r3, 3
/* 800408BC 0003D7FC  38 81 00 08 */	addi r4, r1, 8
/* 800408C0 0003D800  48 31 EA BD */	bl func_8035F37C
.global lbl_800408C4
lbl_800408C4:
/* 800408C4 0003D804  C0 1D 00 0C */	lfs f0, 0xc(r29)
/* 800408C8 0003D808  D0 01 00 18 */	stfs f0, 0x18(r1)
/* 800408CC 0003D80C  C0 1D 00 10 */	lfs f0, 0x10(r29)
/* 800408D0 0003D810  D0 01 00 1C */	stfs f0, 0x1c(r1)
/* 800408D4 0003D814  C0 1D 00 14 */	lfs f0, 0x14(r29)
/* 800408D8 0003D818  D0 01 00 20 */	stfs f0, 0x20(r1)
/* 800408DC 0003D81C  57 E0 06 3F */	clrlwi. r0, r31, 0x18
/* 800408E0 0003D820  41 82 00 10 */	beq lbl_800408F0
/* 800408E4 0003D824  7F C3 07 74 */	extsb r3, r30
/* 800408E8 0003D828  38 81 00 18 */	addi r4, r1, 0x18
/* 800408EC 0003D82C  4B FF E4 75 */	bl func_8003ED60
.global lbl_800408F0
lbl_800408F0:
/* 800408F0 0003D830  3C 60 80 3E */	lis r3, lbl_803DD470@ha
/* 800408F4 0003D834  38 63 D4 70 */	addi r3, r3, lbl_803DD470@l
/* 800408F8 0003D838  C0 21 00 18 */	lfs f1, 0x18(r1)
/* 800408FC 0003D83C  C0 41 00 20 */	lfs f2, 0x20(r1)
/* 80040900 0003D840  C0 62 84 28 */	lfs f3, lbl_80451E28-_SDA2_BASE_(r2)
/* 80040904 0003D844  48 30 5F E5 */	bl func_803468E8
/* 80040908 0003D848  3C 60 80 3E */	lis r3, lbl_803DD470@ha
/* 8004090C 0003D84C  38 63 D4 70 */	addi r3, r3, lbl_803DD470@l
/* 80040910 0003D850  A8 9D 00 1A */	lha r4, 0x1a(r29)
/* 80040914 0003D854  4B FC BB B9 */	bl func_8000C4CC
/* 80040918 0003D858  C0 22 84 70 */	lfs f1, lbl_80451E70-_SDA2_BASE_(r2)
/* 8004091C 0003D85C  FC 40 08 90 */	fmr f2, f1
/* 80040920 0003D860  C0 62 84 38 */	lfs f3, lbl_80451E38-_SDA2_BASE_(r2)
/* 80040924 0003D864  4B FC C5 15 */	bl func_8000CE38
/* 80040928 0003D868  3C 60 80 3E */	lis r3, lbl_803DD470@ha
/* 8004092C 0003D86C  38 63 D4 70 */	addi r3, r3, lbl_803DD470@l
/* 80040930 0003D870  3C 80 80 38 */	lis r4, lbl_80379C58@ha
/* 80040934 0003D874  38 84 9C 58 */	addi r4, r4, lbl_80379C58@l
/* 80040938 0003D878  38 A1 00 24 */	addi r5, r1, 0x24
/* 8004093C 0003D87C  38 C0 00 04 */	li r6, 4
/* 80040940 0003D880  48 30 64 81 */	bl func_80346DC0
/* 80040944 0003D884  38 60 00 80 */	li r3, 0x80
/* 80040948 0003D888  38 80 00 00 */	li r4, 0
/* 8004094C 0003D88C  38 A0 00 04 */	li r5, 4
/* 80040950 0003D890  48 31 BE 15 */	bl func_8035C764
/* 80040954 0003D894  38 A0 00 00 */	li r5, 0
/* 80040958 0003D898  3C 60 CC 01 */	lis r3, 0xcc01
/* 8004095C 0003D89C  48 00 00 34 */	b lbl_80040990
.global lbl_80040960
lbl_80040960:
/* 80040960 0003D8A0  54 A0 06 3E */	clrlwi r0, r5, 0x18
/* 80040964 0003D8A4  1C 00 00 0C */	mulli r0, r0, 0xc
/* 80040968 0003D8A8  38 81 00 24 */	addi r4, r1, 0x24
/* 8004096C 0003D8AC  7C 84 02 14 */	add r4, r4, r0
/* 80040970 0003D8B0  C0 04 00 00 */	lfs f0, 0(r4)
/* 80040974 0003D8B4  D0 03 80 00 */	stfs f0, -0x8000(r3)
/* 80040978 0003D8B8  C0 04 00 04 */	lfs f0, 4(r4)
/* 8004097C 0003D8BC  D0 03 80 00 */	stfs f0, -0x8000(r3)
/* 80040980 0003D8C0  C0 04 00 08 */	lfs f0, 8(r4)
/* 80040984 0003D8C4  D0 03 80 00 */	stfs f0, -0x8000(r3)
/* 80040988 0003D8C8  98 A3 80 00 */	stb r5, -0x8000(r3)
/* 8004098C 0003D8CC  38 A5 00 01 */	addi r5, r5, 1
.global lbl_80040990
lbl_80040990:
/* 80040990 0003D8D0  54 A0 06 3E */	clrlwi r0, r5, 0x18
/* 80040994 0003D8D4  28 00 00 04 */	cmplwi r0, 4
/* 80040998 0003D8D8  41 80 FF C8 */	blt lbl_80040960
/* 8004099C 0003D8DC  39 61 00 70 */	addi r11, r1, 0x70
/* 800409A0 0003D8E0  48 32 18 89 */	bl func_80362228
/* 800409A4 0003D8E4  80 01 00 74 */	lwz r0, 0x74(r1)
/* 800409A8 0003D8E8  7C 08 03 A6 */	mtlr r0
/* 800409AC 0003D8EC  38 21 00 70 */	addi r1, r1, 0x70
/* 800409B0 0003D8F0  4E 80 00 20 */	blr 
/* 800409B4 0003D8F4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800409B8 0003D8F8  7C 08 02 A6 */	mflr r0
/* 800409BC 0003D8FC  90 01 00 14 */	stw r0, 0x14(r1)
/* 800409C0 0003D900  81 83 00 00 */	lwz r12, 0(r3)
/* 800409C4 0003D904  81 8C 00 90 */	lwz r12, 0x90(r12)
/* 800409C8 0003D908  7D 89 03 A6 */	mtctr r12
/* 800409CC 0003D90C  4E 80 04 21 */	bctrl 
/* 800409D0 0003D910  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800409D4 0003D914  7C 08 03 A6 */	mtlr r0
/* 800409D8 0003D918  38 21 00 10 */	addi r1, r1, 0x10
/* 800409DC 0003D91C  4E 80 00 20 */	blr 
/* 800409E0 0003D920  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 800409E4 0003D924  7C 08 02 A6 */	mflr r0
/* 800409E8 0003D928  90 01 00 34 */	stw r0, 0x34(r1)
/* 800409EC 0003D92C  39 61 00 30 */	addi r11, r1, 0x30
/* 800409F0 0003D930  48 32 17 D9 */	bl func_803621C8
/* 800409F4 0003D934  7C 78 1B 78 */	mr r24, r3
/* 800409F8 0003D938  7C 99 23 78 */	mr r25, r4
/* 800409FC 0003D93C  7C BA 2B 78 */	mr r26, r5
/* 80040A00 0003D940  7C DB 33 78 */	mr r27, r6
/* 80040A04 0003D944  7D 1C 43 78 */	mr r28, r8
/* 80040A08 0003D948  7D 3D 4B 78 */	mr r29, r9
/* 80040A0C 0003D94C  88 84 00 01 */	lbz r4, 1(r4)
/* 80040A10 0003D950  7C 84 07 74 */	extsb r4, r4
/* 80040A14 0003D954  81 83 00 00 */	lwz r12, 0(r3)
/* 80040A18 0003D958  81 8C 00 94 */	lwz r12, 0x94(r12)
/* 80040A1C 0003D95C  7D 89 03 A6 */	mtctr r12
/* 80040A20 0003D960  4E 80 04 21 */	bctrl 
/* 80040A24 0003D964  7C 7F 1B 78 */	mr r31, r3
/* 80040A28 0003D968  3B C0 00 00 */	li r30, 0
/* 80040A2C 0003D96C  57 80 06 3F */	clrlwi. r0, r28, 0x18
/* 80040A30 0003D970  41 82 00 28 */	beq lbl_80040A58
/* 80040A34 0003D974  7F 03 C3 78 */	mr r3, r24
/* 80040A38 0003D978  C0 3D 00 04 */	lfs f1, 4(r29)
/* 80040A3C 0003D97C  88 99 00 01 */	lbz r4, 1(r25)
/* 80040A40 0003D980  7C 84 07 74 */	extsb r4, r4
/* 80040A44 0003D984  4B FF F2 61 */	bl func_8003FCA4
/* 80040A48 0003D988  7C 60 07 74 */	extsb r0, r3
/* 80040A4C 0003D98C  7C 00 D8 00 */	cmpw r0, r27
/* 80040A50 0003D990  40 82 00 08 */	bne lbl_80040A58
/* 80040A54 0003D994  3B C0 00 01 */	li r30, 1
.global lbl_80040A58
lbl_80040A58:
/* 80040A58 0003D998  7F 03 C3 78 */	mr r3, r24
/* 80040A5C 0003D99C  7F 24 CB 78 */	mr r4, r25
/* 80040A60 0003D9A0  7F C5 F3 78 */	mr r5, r30
/* 80040A64 0003D9A4  7F E6 FB 78 */	mr r6, r31
/* 80040A68 0003D9A8  7F 47 D3 78 */	mr r7, r26
/* 80040A6C 0003D9AC  81 98 00 00 */	lwz r12, 0(r24)
/* 80040A70 0003D9B0  81 8C 00 88 */	lwz r12, 0x88(r12)
/* 80040A74 0003D9B4  7D 89 03 A6 */	mtctr r12
/* 80040A78 0003D9B8  4E 80 04 21 */	bctrl 
/* 80040A7C 0003D9BC  39 61 00 30 */	addi r11, r1, 0x30
/* 80040A80 0003D9C0  48 32 17 95 */	bl func_80362214
/* 80040A84 0003D9C4  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80040A88 0003D9C8  7C 08 03 A6 */	mtlr r0
/* 80040A8C 0003D9CC  38 21 00 30 */	addi r1, r1, 0x30
/* 80040A90 0003D9D0  4E 80 00 20 */	blr 
