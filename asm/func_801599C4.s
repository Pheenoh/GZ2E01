.include "macros.inc"

.section .text, "ax" # 801599C4


.global func_801599C4
func_801599C4:
/* 801599C4 00156904  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 801599C8 00156908  7C 08 02 A6 */	mflr r0
/* 801599CC 0015690C  90 01 00 14 */	stw r0, 0x14(r1)
/* 801599D0 00156910  88 03 0A C6 */	lbz r0, 0xac6(r3)
/* 801599D4 00156914  28 00 00 00 */	cmplwi r0, 0
/* 801599D8 00156918  54 84 18 38 */	slwi r4, r4, 3
/* 801599DC 0015691C  3C 60 80 3B */	lis r3, lbl_803B6424@ha
/* 801599E0 00156920  38 03 64 24 */	addi r0, r3, lbl_803B6424@l
/* 801599E4 00156924  7C 60 22 14 */	add r3, r0, r4
/* 801599E8 00156928  41 82 00 10 */	beq lbl_801599F8
/* 801599EC 0015692C  3C 60 80 3B */	lis r3, lbl_803B6514@ha
/* 801599F0 00156930  38 03 65 14 */	addi r0, r3, lbl_803B6514@l
/* 801599F4 00156934  7C 60 22 14 */	add r3, r0, r4
.global lbl_801599F8
lbl_801599F8:
/* 801599F8 00156938  80 83 00 04 */	lwz r4, 4(r3)
/* 801599FC 0015693C  2C 04 FF FF */	cmpwi r4, -1
/* 80159A00 00156940  41 82 00 24 */	beq lbl_80159A24
/* 80159A04 00156944  80 63 00 00 */	lwz r3, 0(r3)
/* 80159A08 00156948  3C A0 80 40 */	lis r5, lbl_804061C0@ha
/* 80159A0C 0015694C  38 A5 61 C0 */	addi r5, r5, lbl_804061C0@l
/* 80159A10 00156950  3C A5 00 02 */	addis r5, r5, 2
/* 80159A14 00156954  38 C0 00 80 */	li r6, 0x80
/* 80159A18 00156958  38 A5 C2 F8 */	addi r5, r5, -15624
/* 80159A1C 0015695C  4B EE 28 D1 */	bl func_8003C2EC
/* 80159A20 00156960  48 00 00 08 */	b lbl_80159A28
.global lbl_80159A24
lbl_80159A24:
/* 80159A24 00156964  38 60 00 00 */	li r3, 0
.global lbl_80159A28
lbl_80159A28:
/* 80159A28 00156968  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80159A2C 0015696C  7C 08 03 A6 */	mtlr r0
/* 80159A30 00156970  38 21 00 10 */	addi r1, r1, 0x10
/* 80159A34 00156974  4E 80 00 20 */	blr 
/* 80159A38 00156978  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80159A3C 0015697C  7C 08 02 A6 */	mflr r0
/* 80159A40 00156980  90 01 00 34 */	stw r0, 0x34(r1)
/* 80159A44 00156984  DB E1 00 20 */	stfd f31, 0x20(r1)
/* 80159A48 00156988  F3 E1 00 28 */	psq_st f31, 40(r1), 0, qr0
/* 80159A4C 0015698C  39 61 00 20 */	addi r11, r1, 0x20
/* 80159A50 00156990  48 20 87 89 */	bl func_803621D8
/* 80159A54 00156994  7C 7F 1B 78 */	mr r31, r3
/* 80159A58 00156998  7C DC 33 78 */	mr r28, r6
/* 80159A5C 0015699C  7C FD 3B 78 */	mr r29, r7
/* 80159A60 001569A0  7D 1E 43 78 */	mr r30, r8
/* 80159A64 001569A4  38 00 00 00 */	li r0, 0
/* 80159A68 001569A8  90 03 00 08 */	stw r0, 8(r3)
/* 80159A6C 001569AC  7C 83 23 78 */	mr r3, r4
/* 80159A70 001569B0  7C A4 2B 78 */	mr r4, r5
/* 80159A74 001569B4  4B EF 7D 79 */	bl func_800517EC
/* 80159A78 001569B8  90 7F 00 08 */	stw r3, 8(r31)
/* 80159A7C 001569BC  9B 9F 00 24 */	stb r28, 0x24(r31)
/* 80159A80 001569C0  80 1F 00 08 */	lwz r0, 8(r31)
/* 80159A84 001569C4  28 00 00 00 */	cmplwi r0, 0
/* 80159A88 001569C8  40 82 00 0C */	bne lbl_80159A94
/* 80159A8C 001569CC  38 60 00 00 */	li r3, 0
/* 80159A90 001569D0  48 00 01 64 */	b lbl_80159BF4
.global lbl_80159A94
lbl_80159A94:
/* 80159A94 001569D4  38 60 00 00 */	li r3, 0
/* 80159A98 001569D8  90 7F 00 20 */	stw r3, 0x20(r31)
/* 80159A9C 001569DC  57 C0 06 3F */	clrlwi. r0, r30, 0x18
/* 80159AA0 001569E0  41 82 00 50 */	beq lbl_80159AF0
/* 80159AA4 001569E4  C3 E2 9B 20 */	lfs f31, lbl_80453520-_SDA2_BASE_(r2)
/* 80159AA8 001569E8  90 7F 00 20 */	stw r3, 0x20(r31)
/* 80159AAC 001569EC  3B C0 00 00 */	li r30, 0
/* 80159AB0 001569F0  48 00 00 30 */	b lbl_80159AE0
.global lbl_80159AB4
lbl_80159AB4:
/* 80159AB4 001569F4  7F C4 F3 78 */	mr r4, r30
/* 80159AB8 001569F8  4B EF 7C F9 */	bl func_800517B0
/* 80159ABC 001569FC  7C 64 1B 78 */	mr r4, r3
/* 80159AC0 00156A00  7F A3 EB 78 */	mr r3, r29
/* 80159AC4 00156A04  38 84 00 04 */	addi r4, r4, 4
/* 80159AC8 00156A08  48 1E D8 D5 */	bl func_8034739C
/* 80159ACC 00156A0C  FC 01 F8 40 */	fcmpo cr0, f1, f31
/* 80159AD0 00156A10  40 80 00 0C */	bge lbl_80159ADC
/* 80159AD4 00156A14  FF E0 08 90 */	fmr f31, f1
/* 80159AD8 00156A18  93 DF 00 20 */	stw r30, 0x20(r31)
.global lbl_80159ADC
lbl_80159ADC:
/* 80159ADC 00156A1C  3B DE 00 01 */	addi r30, r30, 1
.global lbl_80159AE0
lbl_80159AE0:
/* 80159AE0 00156A20  80 7F 00 08 */	lwz r3, 8(r31)
/* 80159AE4 00156A24  A0 03 00 00 */	lhz r0, 0(r3)
/* 80159AE8 00156A28  7C 1E 00 00 */	cmpw r30, r0
/* 80159AEC 00156A2C  41 80 FF C8 */	blt lbl_80159AB4
.global lbl_80159AF0
lbl_80159AF0:
/* 80159AF0 00156A30  80 7F 00 08 */	lwz r3, 8(r31)
/* 80159AF4 00156A34  80 9F 00 20 */	lwz r4, 0x20(r31)
/* 80159AF8 00156A38  4B EF 7C B9 */	bl func_800517B0
/* 80159AFC 00156A3C  38 83 00 04 */	addi r4, r3, 4
/* 80159B00 00156A40  7F A3 EB 78 */	mr r3, r29
/* 80159B04 00156A44  48 1E D8 99 */	bl func_8034739C
/* 80159B08 00156A48  C0 02 9A E4 */	lfs f0, lbl_804534E4-_SDA2_BASE_(r2)
/* 80159B0C 00156A4C  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 80159B10 00156A50  40 81 00 58 */	ble lbl_80159B68
/* 80159B14 00156A54  FC 00 08 34 */	frsqrte f0, f1
/* 80159B18 00156A58  C8 82 9B 28 */	lfd f4, lbl_80453528-_SDA2_BASE_(r2)
/* 80159B1C 00156A5C  FC 44 00 32 */	fmul f2, f4, f0
/* 80159B20 00156A60  C8 62 9B 30 */	lfd f3, lbl_80453530-_SDA2_BASE_(r2)
/* 80159B24 00156A64  FC 00 00 32 */	fmul f0, f0, f0
/* 80159B28 00156A68  FC 01 00 32 */	fmul f0, f1, f0
/* 80159B2C 00156A6C  FC 03 00 28 */	fsub f0, f3, f0
/* 80159B30 00156A70  FC 02 00 32 */	fmul f0, f2, f0
/* 80159B34 00156A74  FC 44 00 32 */	fmul f2, f4, f0
/* 80159B38 00156A78  FC 00 00 32 */	fmul f0, f0, f0
/* 80159B3C 00156A7C  FC 01 00 32 */	fmul f0, f1, f0
/* 80159B40 00156A80  FC 03 00 28 */	fsub f0, f3, f0
/* 80159B44 00156A84  FC 02 00 32 */	fmul f0, f2, f0
/* 80159B48 00156A88  FC 44 00 32 */	fmul f2, f4, f0
/* 80159B4C 00156A8C  FC 00 00 32 */	fmul f0, f0, f0
/* 80159B50 00156A90  FC 01 00 32 */	fmul f0, f1, f0
/* 80159B54 00156A94  FC 03 00 28 */	fsub f0, f3, f0
/* 80159B58 00156A98  FC 02 00 32 */	fmul f0, f2, f0
/* 80159B5C 00156A9C  FC 21 00 32 */	fmul f1, f1, f0
/* 80159B60 00156AA0  FC 20 08 18 */	frsp f1, f1
/* 80159B64 00156AA4  48 00 00 88 */	b lbl_80159BEC
.global lbl_80159B68
lbl_80159B68:
/* 80159B68 00156AA8  C8 02 9B 38 */	lfd f0, lbl_80453538-_SDA2_BASE_(r2)
/* 80159B6C 00156AAC  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 80159B70 00156AB0  40 80 00 10 */	bge lbl_80159B80
/* 80159B74 00156AB4  3C 60 80 45 */	lis r3, lbl_80450AE0@ha
/* 80159B78 00156AB8  C0 23 0A E0 */	lfs f1, lbl_80450AE0@l(r3)
/* 80159B7C 00156ABC  48 00 00 70 */	b lbl_80159BEC
.global lbl_80159B80
lbl_80159B80:
/* 80159B80 00156AC0  D0 21 00 08 */	stfs f1, 8(r1)
/* 80159B84 00156AC4  80 81 00 08 */	lwz r4, 8(r1)
/* 80159B88 00156AC8  54 83 00 50 */	rlwinm r3, r4, 0, 1, 8
/* 80159B8C 00156ACC  3C 00 7F 80 */	lis r0, 0x7f80
/* 80159B90 00156AD0  7C 03 00 00 */	cmpw r3, r0
/* 80159B94 00156AD4  41 82 00 14 */	beq lbl_80159BA8
/* 80159B98 00156AD8  40 80 00 40 */	bge lbl_80159BD8
/* 80159B9C 00156ADC  2C 03 00 00 */	cmpwi r3, 0
/* 80159BA0 00156AE0  41 82 00 20 */	beq lbl_80159BC0
/* 80159BA4 00156AE4  48 00 00 34 */	b lbl_80159BD8
.global lbl_80159BA8
lbl_80159BA8:
/* 80159BA8 00156AE8  54 80 02 7F */	clrlwi. r0, r4, 9
/* 80159BAC 00156AEC  41 82 00 0C */	beq lbl_80159BB8
/* 80159BB0 00156AF0  38 00 00 01 */	li r0, 1
/* 80159BB4 00156AF4  48 00 00 28 */	b lbl_80159BDC
.global lbl_80159BB8
lbl_80159BB8:
/* 80159BB8 00156AF8  38 00 00 02 */	li r0, 2
/* 80159BBC 00156AFC  48 00 00 20 */	b lbl_80159BDC
.global lbl_80159BC0
lbl_80159BC0:
/* 80159BC0 00156B00  54 80 02 7F */	clrlwi. r0, r4, 9
/* 80159BC4 00156B04  41 82 00 0C */	beq lbl_80159BD0
/* 80159BC8 00156B08  38 00 00 05 */	li r0, 5
/* 80159BCC 00156B0C  48 00 00 10 */	b lbl_80159BDC
.global lbl_80159BD0
lbl_80159BD0:
/* 80159BD0 00156B10  38 00 00 03 */	li r0, 3
/* 80159BD4 00156B14  48 00 00 08 */	b lbl_80159BDC
.global lbl_80159BD8
lbl_80159BD8:
/* 80159BD8 00156B18  38 00 00 04 */	li r0, 4
.global lbl_80159BDC
lbl_80159BDC:
/* 80159BDC 00156B1C  2C 00 00 01 */	cmpwi r0, 1
/* 80159BE0 00156B20  40 82 00 0C */	bne lbl_80159BEC
/* 80159BE4 00156B24  3C 60 80 45 */	lis r3, lbl_80450AE0@ha
/* 80159BE8 00156B28  C0 23 0A E0 */	lfs f1, lbl_80450AE0@l(r3)
.global lbl_80159BEC
lbl_80159BEC:
/* 80159BEC 00156B2C  D0 3F 00 1C */	stfs f1, 0x1c(r31)
/* 80159BF0 00156B30  38 60 00 01 */	li r3, 1
.global lbl_80159BF4
lbl_80159BF4:
/* 80159BF4 00156B34  E3 E1 00 28 */	psq_l f31, 40(r1), 0, qr0
/* 80159BF8 00156B38  CB E1 00 20 */	lfd f31, 0x20(r1)
/* 80159BFC 00156B3C  39 61 00 20 */	addi r11, r1, 0x20
/* 80159C00 00156B40  48 20 86 25 */	bl func_80362224
/* 80159C04 00156B44  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80159C08 00156B48  7C 08 03 A6 */	mtlr r0
/* 80159C0C 00156B4C  38 21 00 30 */	addi r1, r1, 0x30
/* 80159C10 00156B50  4E 80 00 20 */	blr 
