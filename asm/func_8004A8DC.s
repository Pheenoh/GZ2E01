.include "macros.inc"

.section .text, "ax" # 8004A8DC


.global func_8004A8DC
func_8004A8DC:
/* 8004A8DC 0004781C  94 21 FF B0 */	stwu r1, -0x50(r1)
/* 8004A8E0 00047820  7C 08 02 A6 */	mflr r0
/* 8004A8E4 00047824  90 01 00 54 */	stw r0, 0x54(r1)
/* 8004A8E8 00047828  39 61 00 50 */	addi r11, r1, 0x50
/* 8004A8EC 0004782C  48 31 78 E9 */	bl func_803621D4
/* 8004A8F0 00047830  7C 7B 1B 78 */	mr r27, r3
/* 8004A8F4 00047834  7C 9C 23 78 */	mr r28, r4
/* 8004A8F8 00047838  80 63 00 00 */	lwz r3, 0(r3)
/* 8004A8FC 0004783C  80 63 00 28 */	lwz r3, 0x28(r3)
/* 8004A900 00047840  80 63 00 00 */	lwz r3, 0(r3)
/* 8004A904 00047844  83 A3 00 58 */	lwz r29, 0x58(r3)
/* 8004A908 00047848  3F C0 C0 00 */	lis r30, 0xc000
/* 8004A90C 0004784C  3C 60 80 43 */	lis r3, lbl_80434AC8@ha
/* 8004A910 00047850  3B E3 4A C8 */	addi r31, r3, lbl_80434AC8@l
/* 8004A914 00047854  48 00 01 00 */	b lbl_8004AA14
.global lbl_8004A918
lbl_8004A918:
/* 8004A918 00047858  7F A3 EB 78 */	mr r3, r29
/* 8004A91C 0004785C  81 9D 00 00 */	lwz r12, 0(r29)
/* 8004A920 00047860  81 8C 00 1C */	lwz r12, 0x1c(r12)
/* 8004A924 00047864  7D 89 03 A6 */	mtctr r12
/* 8004A928 00047868  4E 80 04 21 */	bctrl 
/* 8004A92C 0004786C  80 7D 00 08 */	lwz r3, 8(r29)
/* 8004A930 00047870  48 2C A9 D1 */	bl func_80315300
/* 8004A934 00047874  80 7D 00 3C */	lwz r3, 0x3c(r29)
/* 8004A938 00047878  7C 03 F0 40 */	cmplw r3, r30
/* 8004A93C 0004787C  40 80 00 0C */	bge lbl_8004A948
/* 8004A940 00047880  7C 60 1B 78 */	mr r0, r3
/* 8004A944 00047884  48 00 00 08 */	b lbl_8004A94C
.global lbl_8004A948
lbl_8004A948:
/* 8004A948 00047888  38 00 00 00 */	li r0, 0
.global lbl_8004A94C
lbl_8004A94C:
/* 8004A94C 0004788C  28 00 00 00 */	cmplwi r0, 0
/* 8004A950 00047890  41 82 00 2C */	beq lbl_8004A97C
/* 8004A954 00047894  3C 00 C0 00 */	lis r0, 0xc000
/* 8004A958 00047898  7C 03 00 40 */	cmplw r3, r0
/* 8004A95C 0004789C  40 80 00 08 */	bge lbl_8004A964
/* 8004A960 000478A0  48 00 00 08 */	b lbl_8004A968
.global lbl_8004A964
lbl_8004A964:
/* 8004A964 000478A4  38 60 00 00 */	li r3, 0
.global lbl_8004A968
lbl_8004A968:
/* 8004A968 000478A8  7F A4 EB 78 */	mr r4, r29
/* 8004A96C 000478AC  81 83 00 00 */	lwz r12, 0(r3)
/* 8004A970 000478B0  81 8C 00 0C */	lwz r12, 0xc(r12)
/* 8004A974 000478B4  7D 89 03 A6 */	mtctr r12
/* 8004A978 000478B8  4E 80 04 21 */	bctrl 
.global lbl_8004A97C
lbl_8004A97C:
/* 8004A97C 000478BC  7F A3 EB 78 */	mr r3, r29
/* 8004A980 000478C0  7F 84 E3 78 */	mr r4, r28
/* 8004A984 000478C4  81 9D 00 00 */	lwz r12, 0(r29)
/* 8004A988 000478C8  81 8C 00 08 */	lwz r12, 8(r12)
/* 8004A98C 000478CC  7D 89 03 A6 */	mtctr r12
/* 8004A990 000478D0  4E 80 04 21 */	bctrl 
/* 8004A994 000478D4  80 7D 00 2C */	lwz r3, 0x2c(r29)
/* 8004A998 000478D8  38 80 00 00 */	li r4, 0
/* 8004A99C 000478DC  81 83 00 00 */	lwz r12, 0(r3)
/* 8004A9A0 000478E0  81 8C 00 50 */	lwz r12, 0x50(r12)
/* 8004A9A4 000478E4  7D 89 03 A6 */	mtctr r12
/* 8004A9A8 000478E8  4E 80 04 21 */	bctrl 
/* 8004A9AC 000478EC  7C 64 1B 78 */	mr r4, r3
/* 8004A9B0 000478F0  80 7B 00 00 */	lwz r3, 0(r27)
/* 8004A9B4 000478F4  80 63 00 6C */	lwz r3, 0x6c(r3)
/* 8004A9B8 000478F8  38 A0 00 00 */	li r5, 0
/* 8004A9BC 000478FC  48 2C 76 91 */	bl func_8031204C
/* 8004A9C0 00047900  48 15 CC 01 */	bl func_801A75C0
/* 8004A9C4 00047904  38 7B 00 08 */	addi r3, r27, 8
/* 8004A9C8 00047908  48 15 CC 19 */	bl func_801A75E0
/* 8004A9CC 0004790C  38 7B 00 08 */	addi r3, r27, 8
/* 8004A9D0 00047910  48 15 DC 81 */	bl func_801A8650
/* 8004A9D4 00047914  7F E3 FB 78 */	mr r3, r31
/* 8004A9D8 00047918  7F 84 E3 78 */	mr r4, r28
/* 8004A9DC 0004791C  38 A1 00 08 */	addi r5, r1, 8
/* 8004A9E0 00047920  48 2F BB 05 */	bl func_803464E4
/* 8004A9E4 00047924  38 61 00 08 */	addi r3, r1, 8
/* 8004A9E8 00047928  38 80 00 00 */	li r4, 0
/* 8004A9EC 0004792C  48 31 58 61 */	bl func_8036024C
/* 8004A9F0 00047930  38 61 00 08 */	addi r3, r1, 8
/* 8004A9F4 00047934  38 80 00 00 */	li r4, 0
/* 8004A9F8 00047938  48 31 58 A5 */	bl func_8036029C
/* 8004A9FC 0004793C  80 7D 00 08 */	lwz r3, 8(r29)
/* 8004AA00 00047940  81 83 00 00 */	lwz r12, 0(r3)
/* 8004AA04 00047944  81 8C 00 14 */	lwz r12, 0x14(r12)
/* 8004AA08 00047948  7D 89 03 A6 */	mtctr r12
/* 8004AA0C 0004794C  4E 80 04 21 */	bctrl 
/* 8004AA10 00047950  83 BD 00 04 */	lwz r29, 4(r29)
.global lbl_8004AA14
lbl_8004AA14:
/* 8004AA14 00047954  28 1D 00 00 */	cmplwi r29, 0
/* 8004AA18 00047958  40 82 FF 00 */	bne lbl_8004A918
/* 8004AA1C 0004795C  39 61 00 50 */	addi r11, r1, 0x50
/* 8004AA20 00047960  48 31 78 01 */	bl func_80362220
/* 8004AA24 00047964  80 01 00 54 */	lwz r0, 0x54(r1)
/* 8004AA28 00047968  7C 08 03 A6 */	mtlr r0
/* 8004AA2C 0004796C  38 21 00 50 */	addi r1, r1, 0x50
/* 8004AA30 00047970  4E 80 00 20 */	blr 
/* 8004AA34 00047974  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8004AA38 00047978  7C 08 02 A6 */	mflr r0
/* 8004AA3C 0004797C  90 01 00 14 */	stw r0, 0x14(r1)
/* 8004AA40 00047980  38 A0 00 00 */	li r5, 0
/* 8004AA44 00047984  80 04 00 F4 */	lwz r0, 0xf4(r4)
/* 8004AA48 00047988  54 00 07 39 */	rlwinm. r0, r0, 0, 0x1c, 0x1c
/* 8004AA4C 0004798C  41 82 00 18 */	beq lbl_8004AA64
/* 8004AA50 00047990  80 64 00 D0 */	lwz r3, 0xd0(r4)
/* 8004AA54 00047994  80 04 00 DC */	lwz r0, 0xdc(r4)
/* 8004AA58 00047998  7C 03 02 15 */	add. r0, r3, r0
/* 8004AA5C 0004799C  40 82 00 08 */	bne lbl_8004AA64
/* 8004AA60 000479A0  38 A0 00 01 */	li r5, 1
.global lbl_8004AA64
lbl_8004AA64:
/* 8004AA64 000479A4  54 A0 06 3F */	clrlwi. r0, r5, 0x18
/* 8004AA68 000479A8  41 82 00 28 */	beq lbl_8004AA90
/* 8004AA6C 000479AC  80 04 00 F4 */	lwz r0, 0xf4(r4)
/* 8004AA70 000479B0  54 00 06 B0 */	rlwinm r0, r0, 0, 0x1a, 0x18
/* 8004AA74 000479B4  90 04 00 F4 */	stw r0, 0xf4(r4)
/* 8004AA78 000479B8  38 00 00 00 */	li r0, 0
/* 8004AA7C 000479BC  90 04 00 EC */	stw r0, 0xec(r4)
/* 8004AA80 000479C0  90 04 00 F0 */	stw r0, 0xf0(r4)
/* 8004AA84 000479C4  7C 83 23 78 */	mr r3, r4
/* 8004AA88 000479C8  48 00 02 09 */	bl func_8004AC90
/* 8004AA8C 000479CC  48 00 00 0C */	b lbl_8004AA98
.global lbl_8004AA90
lbl_8004AA90:
/* 8004AA90 000479D0  7C 83 23 78 */	mr r3, r4
/* 8004AA94 000479D4  48 00 02 2D */	bl func_8004ACC0
.global lbl_8004AA98
lbl_8004AA98:
/* 8004AA98 000479D8  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8004AA9C 000479DC  7C 08 03 A6 */	mtlr r0
/* 8004AAA0 000479E0  38 21 00 10 */	addi r1, r1, 0x10
/* 8004AAA4 000479E4  4E 80 00 20 */	blr 
/* 8004AAA8 000479E8  38 00 00 00 */	li r0, 0
/* 8004AAAC 000479EC  90 04 00 EC */	stw r0, 0xec(r4)
/* 8004AAB0 000479F0  80 AD 89 18 */	lwz r5, lbl_80450E98-_SDA_BASE_(r13)
/* 8004AAB4 000479F4  28 05 00 00 */	cmplwi r5, 0
/* 8004AAB8 000479F8  4D 82 00 20 */	beqlr 
/* 8004AABC 000479FC  88 CD 89 1C */	lbz r6, lbl_80450E9C-_SDA_BASE_(r13)
/* 8004AAC0 00047A00  7C C9 03 A6 */	mtctr r6
/* 8004AAC4 00047A04  2C 06 00 00 */	cmpwi r6, 0
/* 8004AAC8 00047A08  4C 81 00 20 */	blelr 
.global lbl_8004AACC
lbl_8004AACC:
/* 8004AACC 00047A0C  88 6D 89 1D */	lbz r3, lbl_80450E9D-_SDA_BASE_(r13)
/* 8004AAD0 00047A10  7C 03 33 D6 */	divw r0, r3, r6
/* 8004AAD4 00047A14  7C 00 31 D6 */	mullw r0, r0, r6
/* 8004AAD8 00047A18  7C 00 18 50 */	subf r0, r0, r3
/* 8004AADC 00047A1C  54 03 06 3E */	clrlwi r3, r0, 0x18
/* 8004AAE0 00047A20  98 0D 89 1D */	stb r0, lbl_80450E9D-_SDA_BASE_(r13)
/* 8004AAE4 00047A24  1C 03 03 94 */	mulli r0, r3, 0x394
/* 8004AAE8 00047A28  7C 05 00 2E */	lwzx r0, r5, r0
/* 8004AAEC 00047A2C  28 00 00 00 */	cmplwi r0, 0
/* 8004AAF0 00047A30  40 82 00 1C */	bne lbl_8004AB0C
/* 8004AAF4 00047A34  38 03 00 01 */	addi r0, r3, 1
/* 8004AAF8 00047A38  98 0D 89 1D */	stb r0, lbl_80450E9D-_SDA_BASE_(r13)
/* 8004AAFC 00047A3C  90 64 00 C0 */	stw r3, 0xc0(r4)
/* 8004AB00 00047A40  38 0D 89 14 */	addi r0, r13, lbl_80450E94-_SDA_BASE_
/* 8004AB04 00047A44  90 04 00 F0 */	stw r0, 0xf0(r4)
/* 8004AB08 00047A48  4E 80 00 20 */	blr 
.global lbl_8004AB0C
lbl_8004AB0C:
/* 8004AB0C 00047A4C  38 03 00 01 */	addi r0, r3, 1
/* 8004AB10 00047A50  98 0D 89 1D */	stb r0, lbl_80450E9D-_SDA_BASE_(r13)
/* 8004AB14 00047A54  42 00 FF B8 */	bdnz lbl_8004AACC
/* 8004AB18 00047A58  4E 80 00 20 */	blr 
