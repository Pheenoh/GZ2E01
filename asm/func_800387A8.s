.include "macros.inc"

.section .text, "ax" # 800387A8


.global func_800387A8
func_800387A8:
/* 800387A8 000356E8  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800387AC 000356EC  7C 08 02 A6 */	mflr r0
/* 800387B0 000356F0  90 01 00 14 */	stw r0, 0x14(r1)
/* 800387B4 000356F4  7C 64 1B 78 */	mr r4, r3
/* 800387B8 000356F8  3C 60 80 40 */	lis r3, lbl_80406194@ha
/* 800387BC 000356FC  38 63 61 94 */	addi r3, r3, lbl_80406194@l
/* 800387C0 00035700  3C A0 80 40 */	lis r5, lbl_804061C0@ha
/* 800387C4 00035704  38 A5 61 C0 */	addi r5, r5, lbl_804061C0@l
/* 800387C8 00035708  3C A5 00 02 */	addis r5, r5, 2
/* 800387CC 0003570C  38 C0 00 80 */	li r6, 0x80
/* 800387D0 00035710  38 A5 C2 F8 */	addi r5, r5, -15624
/* 800387D4 00035714  48 00 3B A9 */	bl func_8003C37C
/* 800387D8 00035718  90 6D 88 C4 */	stw r3, lbl_80450E44-_SDA_BASE_(r13)
/* 800387DC 0003571C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800387E0 00035720  7C 08 03 A6 */	mtlr r0
/* 800387E4 00035724  38 21 00 10 */	addi r1, r1, 0x10
/* 800387E8 00035728  4E 80 00 20 */	blr 
/* 800387EC 0003572C  94 21 FF A0 */	stwu r1, -0x60(r1)
/* 800387F0 00035730  7C 08 02 A6 */	mflr r0
/* 800387F4 00035734  90 01 00 64 */	stw r0, 0x64(r1)
/* 800387F8 00035738  93 E1 00 5C */	stw r31, 0x5c(r1)
/* 800387FC 0003573C  93 C1 00 58 */	stw r30, 0x58(r1)
/* 80038800 00035740  28 04 00 01 */	cmplwi r4, 1
/* 80038804 00035744  40 82 00 5C */	bne lbl_80038860
/* 80038808 00035748  90 A1 00 10 */	stw r5, 0x10(r1)
/* 8003880C 0003574C  38 61 00 10 */	addi r3, r1, 0x10
/* 80038810 00035750  38 81 00 3C */	addi r4, r1, 0x3c
/* 80038814 00035754  48 25 12 6D */	bl func_80289A80
/* 80038818 00035758  88 01 00 3C */	lbz r0, 0x3c(r1)
/* 8003881C 0003575C  28 00 00 00 */	cmplwi r0, 0
/* 80038820 00035760  41 82 00 E8 */	beq lbl_80038908
/* 80038824 00035764  38 60 00 00 */	li r3, 0
/* 80038828 00035768  80 81 00 48 */	lwz r4, 0x48(r1)
/* 8003882C 0003576C  28 04 00 00 */	cmplwi r4, 0
/* 80038830 00035770  41 82 00 1C */	beq lbl_8003884C
/* 80038834 00035774  28 00 00 32 */	cmplwi r0, 0x32
/* 80038838 00035778  40 82 00 14 */	bne lbl_8003884C
/* 8003883C 0003577C  80 01 00 4C */	lwz r0, 0x4c(r1)
/* 80038840 00035780  28 00 00 00 */	cmplwi r0, 0
/* 80038844 00035784  41 82 00 08 */	beq lbl_8003884C
/* 80038848 00035788  38 60 00 01 */	li r3, 1
.global lbl_8003884C
lbl_8003884C:
/* 8003884C 0003578C  54 60 06 3F */	clrlwi. r0, r3, 0x18
/* 80038850 00035790  41 82 00 B8 */	beq lbl_80038908
/* 80038854 00035794  A0 64 00 00 */	lhz r3, 0(r4)
/* 80038858 00035798  48 00 16 85 */	bl func_80039EDC
/* 8003885C 0003579C  48 00 00 AC */	b lbl_80038908
.global lbl_80038860
lbl_80038860:
/* 80038860 000357A0  28 04 00 02 */	cmplwi r4, 2
/* 80038864 000357A4  40 82 00 68 */	bne lbl_800388CC
/* 80038868 000357A8  90 A1 00 0C */	stw r5, 0xc(r1)
/* 8003886C 000357AC  38 61 00 0C */	addi r3, r1, 0xc
/* 80038870 000357B0  38 81 00 28 */	addi r4, r1, 0x28
/* 80038874 000357B4  48 25 12 0D */	bl func_80289A80
/* 80038878 000357B8  83 E1 00 34 */	lwz r31, 0x34(r1)
/* 8003887C 000357BC  3B C0 00 00 */	li r30, 0
/* 80038880 000357C0  48 00 00 18 */	b lbl_80038898
.global lbl_80038884
lbl_80038884:
/* 80038884 000357C4  7F E3 FB 78 */	mr r3, r31
/* 80038888 000357C8  48 33 03 5D */	bl func_80368BE4
/* 8003888C 000357CC  7F E3 FA 14 */	add r31, r3, r31
/* 80038890 000357D0  3B FF 00 01 */	addi r31, r31, 1
/* 80038894 000357D4  3B DE 00 01 */	addi r30, r30, 1
.global lbl_80038898
lbl_80038898:
/* 80038898 000357D8  7F C3 07 34 */	extsh r3, r30
/* 8003889C 000357DC  A8 0D 80 A0 */	lha r0, lbl_80450620-_SDA_BASE_(r13)
/* 800388A0 000357E0  7C 03 00 00 */	cmpw r3, r0
/* 800388A4 000357E4  41 80 FF E0 */	blt lbl_80038884
/* 800388A8 000357E8  7F E3 FB 78 */	mr r3, r31
/* 800388AC 000357EC  3C 80 80 38 */	lis r4, lbl_803797F8@ha
/* 800388B0 000357F0  38 84 97 F8 */	addi r4, r4, lbl_803797F8@l
/* 800388B4 000357F4  48 33 00 E1 */	bl func_80368994
/* 800388B8 000357F8  2C 03 00 00 */	cmpwi r3, 0
/* 800388BC 000357FC  41 82 00 4C */	beq lbl_80038908
/* 800388C0 00035800  7F E3 FB 78 */	mr r3, r31
/* 800388C4 00035804  4B FF FE E5 */	bl func_800387A8
/* 800388C8 00035808  48 00 00 40 */	b lbl_80038908
.global lbl_800388CC
lbl_800388CC:
/* 800388CC 0003580C  28 04 00 03 */	cmplwi r4, 3
/* 800388D0 00035810  40 82 00 20 */	bne lbl_800388F0
/* 800388D4 00035814  90 A1 00 08 */	stw r5, 8(r1)
/* 800388D8 00035818  38 61 00 08 */	addi r3, r1, 8
/* 800388DC 0003581C  38 81 00 14 */	addi r4, r1, 0x14
/* 800388E0 00035820  48 25 11 A1 */	bl func_80289A80
/* 800388E4 00035824  80 61 00 20 */	lwz r3, 0x20(r1)
/* 800388E8 00035828  4B FF FE C1 */	bl func_800387A8
/* 800388EC 0003582C  48 00 00 1C */	b lbl_80038908
.global lbl_800388F0
lbl_800388F0:
/* 800388F0 00035830  90 83 00 4C */	stw r4, 0x4c(r3)
/* 800388F4 00035834  90 A3 00 50 */	stw r5, 0x50(r3)
/* 800388F8 00035838  90 C3 00 54 */	stw r6, 0x54(r3)
/* 800388FC 0003583C  A0 03 00 04 */	lhz r0, 4(r3)
/* 80038900 00035840  60 00 00 01 */	ori r0, r0, 1
/* 80038904 00035844  B0 03 00 04 */	sth r0, 4(r3)
.global lbl_80038908
lbl_80038908:
/* 80038908 00035848  83 E1 00 5C */	lwz r31, 0x5c(r1)
/* 8003890C 0003584C  83 C1 00 58 */	lwz r30, 0x58(r1)
/* 80038910 00035850  80 01 00 64 */	lwz r0, 0x64(r1)
/* 80038914 00035854  7C 08 03 A6 */	mtlr r0
/* 80038918 00035858  38 21 00 60 */	addi r1, r1, 0x60
/* 8003891C 0003585C  4E 80 00 20 */	blr 
/* 80038920 00035860  C0 22 83 C4 */	lfs f1, lbl_80451DC4-_SDA2_BASE_(r2)
/* 80038924 00035864  C0 44 00 00 */	lfs f2, 0(r4)
/* 80038928 00035868  FC 01 10 40 */	fcmpo cr0, f1, f2
/* 8003892C 0003586C  4C 80 00 20 */	bgelr 
/* 80038930 00035870  C0 02 83 C8 */	lfs f0, lbl_80451DC8-_SDA2_BASE_(r2)
/* 80038934 00035874  FC 02 00 40 */	fcmpo cr0, f2, f0
/* 80038938 00035878  4C 80 00 20 */	bgelr 
/* 8003893C 0003587C  C0 64 00 04 */	lfs f3, 4(r4)
/* 80038940 00035880  FC 01 18 40 */	fcmpo cr0, f1, f3
/* 80038944 00035884  4C 80 00 20 */	bgelr 
/* 80038948 00035888  FC 03 00 40 */	fcmpo cr0, f3, f0
/* 8003894C 0003588C  4C 80 00 20 */	bgelr 
/* 80038950 00035890  C0 84 00 08 */	lfs f4, 8(r4)
/* 80038954 00035894  FC 01 20 40 */	fcmpo cr0, f1, f4
/* 80038958 00035898  4C 80 00 20 */	bgelr 
/* 8003895C 0003589C  FC 04 00 40 */	fcmpo cr0, f4, f0
/* 80038960 000358A0  4C 80 00 20 */	bgelr 
/* 80038964 000358A4  D0 43 00 08 */	stfs f2, 8(r3)
/* 80038968 000358A8  D0 63 00 0C */	stfs f3, 0xc(r3)
/* 8003896C 000358AC  D0 83 00 10 */	stfs f4, 0x10(r3)
/* 80038970 000358B0  A0 03 00 04 */	lhz r0, 4(r3)
/* 80038974 000358B4  60 00 00 02 */	ori r0, r0, 2
/* 80038978 000358B8  B0 03 00 04 */	sth r0, 4(r3)
/* 8003897C 000358BC  4E 80 00 20 */	blr 
/* 80038980 000358C0  C0 04 00 00 */	lfs f0, 0(r4)
/* 80038984 000358C4  D0 03 00 14 */	stfs f0, 0x14(r3)
/* 80038988 000358C8  C0 04 00 04 */	lfs f0, 4(r4)
/* 8003898C 000358CC  D0 03 00 18 */	stfs f0, 0x18(r3)
/* 80038990 000358D0  C0 04 00 08 */	lfs f0, 8(r4)
/* 80038994 000358D4  D0 03 00 1C */	stfs f0, 0x1c(r3)
/* 80038998 000358D8  A0 03 00 04 */	lhz r0, 4(r3)
/* 8003899C 000358DC  60 00 00 04 */	ori r0, r0, 4
/* 800389A0 000358E0  B0 03 00 04 */	sth r0, 4(r3)
/* 800389A4 000358E4  4E 80 00 20 */	blr 
/* 800389A8 000358E8  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800389AC 000358EC  C0 22 83 CC */	lfs f1, lbl_80451DCC-_SDA2_BASE_(r2)
/* 800389B0 000358F0  C0 04 00 00 */	lfs f0, 0(r4)
/* 800389B4 000358F4  EC 01 00 32 */	fmuls f0, f1, f0
/* 800389B8 000358F8  FC 00 00 1E */	fctiwz f0, f0
/* 800389BC 000358FC  D8 01 00 08 */	stfd f0, 8(r1)
/* 800389C0 00035900  80 01 00 0C */	lwz r0, 0xc(r1)
/* 800389C4 00035904  B0 03 00 20 */	sth r0, 0x20(r3)
/* 800389C8 00035908  C0 04 00 04 */	lfs f0, 4(r4)
/* 800389CC 0003590C  EC 01 00 32 */	fmuls f0, f1, f0
/* 800389D0 00035910  FC 00 00 1E */	fctiwz f0, f0
/* 800389D4 00035914  D8 01 00 10 */	stfd f0, 0x10(r1)
/* 800389D8 00035918  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800389DC 0003591C  B0 03 00 22 */	sth r0, 0x22(r3)
/* 800389E0 00035920  C0 04 00 08 */	lfs f0, 8(r4)
/* 800389E4 00035924  EC 01 00 32 */	fmuls f0, f1, f0
/* 800389E8 00035928  FC 00 00 1E */	fctiwz f0, f0
/* 800389EC 0003592C  D8 01 00 18 */	stfd f0, 0x18(r1)
/* 800389F0 00035930  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 800389F4 00035934  B0 03 00 24 */	sth r0, 0x24(r3)
/* 800389F8 00035938  A0 03 00 04 */	lhz r0, 4(r3)
/* 800389FC 0003593C  60 00 00 08 */	ori r0, r0, 8
/* 80038A00 00035940  B0 03 00 04 */	sth r0, 4(r3)
/* 80038A04 00035944  38 21 00 20 */	addi r1, r1, 0x20
/* 80038A08 00035948  4E 80 00 20 */	blr 
/* 80038A0C 0003594C  90 83 00 28 */	stw r4, 0x28(r3)
/* 80038A10 00035950  A0 03 00 04 */	lhz r0, 4(r3)
/* 80038A14 00035954  60 00 00 10 */	ori r0, r0, 0x10
/* 80038A18 00035958  B0 03 00 04 */	sth r0, 4(r3)
/* 80038A1C 0003595C  4E 80 00 20 */	blr 
/* 80038A20 00035960  90 83 00 2C */	stw r4, 0x2c(r3)
/* 80038A24 00035964  3C 80 80 45 */	lis r4, lbl_80450AE8@ha
/* 80038A28 00035968  C0 04 0A E8 */	lfs f0, lbl_80450AE8@l(r4)
/* 80038A2C 0003596C  D0 03 00 38 */	stfs f0, 0x38(r3)
/* 80038A30 00035970  A0 03 00 04 */	lhz r0, 4(r3)
/* 80038A34 00035974  60 00 00 20 */	ori r0, r0, 0x20
/* 80038A38 00035978  B0 03 00 04 */	sth r0, 4(r3)
/* 80038A3C 0003597C  4E 80 00 20 */	blr 
/* 80038A40 00035980  D0 23 00 30 */	stfs f1, 0x30(r3)
/* 80038A44 00035984  A0 03 00 04 */	lhz r0, 4(r3)
/* 80038A48 00035988  60 00 00 40 */	ori r0, r0, 0x40
/* 80038A4C 0003598C  B0 03 00 04 */	sth r0, 4(r3)
/* 80038A50 00035990  4E 80 00 20 */	blr 
/* 80038A54 00035994  D0 23 00 34 */	stfs f1, 0x34(r3)
/* 80038A58 00035998  A0 03 00 04 */	lhz r0, 4(r3)
/* 80038A5C 0003599C  60 00 00 80 */	ori r0, r0, 0x80
/* 80038A60 000359A0  B0 03 00 04 */	sth r0, 4(r3)
/* 80038A64 000359A4  4E 80 00 20 */	blr 
/* 80038A68 000359A8  90 83 00 3C */	stw r4, 0x3c(r3)
/* 80038A6C 000359AC  A0 03 00 04 */	lhz r0, 4(r3)
/* 80038A70 000359B0  60 00 01 00 */	ori r0, r0, 0x100
/* 80038A74 000359B4  B0 03 00 04 */	sth r0, 4(r3)
/* 80038A78 000359B8  4E 80 00 20 */	blr 
/* 80038A7C 000359BC  D0 23 00 40 */	stfs f1, 0x40(r3)
/* 80038A80 000359C0  A0 03 00 04 */	lhz r0, 4(r3)
/* 80038A84 000359C4  60 00 02 00 */	ori r0, r0, 0x200
/* 80038A88 000359C8  B0 03 00 04 */	sth r0, 4(r3)
/* 80038A8C 000359CC  4E 80 00 20 */	blr 
